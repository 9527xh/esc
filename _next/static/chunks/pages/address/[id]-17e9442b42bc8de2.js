(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4073],{17281:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/address/[id]",function(){return n(76031)}])},78468:function(e,t,n){"use strict";var r=n(8014),s=n(56168),a=n(62044),l=[{title:"1inch -",description:"Store your tokens safely. Go self-custodial with the 1inch Wallet -",btnText:"Download now",url:"https://1inch.network/Nearblocks_Textad"},{title:"Stader Labs -",description:"Get 50%+ APY & Assurance of Fund Safety with EscX Multi-Layer Security | Now Integrated with Burrow | ",btnText:"EscX - Live on Aurora & ESC",url:"https://near.staderlabs.com/lt/near?tab=Stake"}];t.Z=function(e){var t=e.fromHome,n=void 0!==t&&t,c=(0,a.Z)("common").t,o=(0,s.useState)({}),i=o[0],d=o[1];return(0,s.useEffect)((function(){return d(l[Math.floor(Math.random()*l.length)])}),[]),i?(0,r.jsx)("div",{className:"pt-3 text-sm flex",children:(0,r.jsxs)("p",{className:"pr-2  ".concat(n?"text-white":"text-black","  font-thin"),children:[c("sponsored"),":",(0,r.jsx)("span",{className:"font-semibold ml-2",children:i.title})," ",(0,r.jsxs)("span",{className:"font-thin",children:[i.description," "]}),(0,r.jsx)("a",{href:i.url,target:"_blank",className:"text-blue-600 font-bold",rel:"noopener noreferrer nofollow",children:i.btnText})]})}):null}},83362:function(e,t,n){"use strict";var r=n(8014);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.Z=function(e){return(0,r.jsxs)("svg",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){s(e,t,n[t])}))}return e}({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:24,height:24},e,{children:[(0,r.jsx)("path",{fill:"none",d:"M0 0h24v24H0z"}),(0,r.jsx)("path",{d:"M7 6V3a1 1 0 011-1h12a1 1 0 011 1v14a1 1 0 01-1 1h-3v3c0 .552-.45 1-1.007 1H4.007A1.001 1.001 0 013 21l.003-14c0-.552.45-1 1.007-1H7zM5.003 8L5 20h10V8H5.003zM9 6h8v10h2V4H9v2z"})]}))}},76031:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSP:function(){return Vt},default:function(){return Ut}});var r=n(44453),s=n.n(r),a=n(8014),l=n(75657),c=n.n(l),o=n(1984),i=n(75332),d=n(46834),x=n(56168),u=n(46469),m=n(34339),p=n(73369),h=n(62044),f=n(73077),b=(n(97313),n(7732)),j=n(68804),g=n(89819),y=n(37506),w=n(9125),v=n(45666),N=n(89043),k=n(62423),_=n(48984),Z=n.n(_),S=n(2612),O=(n(97187),n(48178)),C=n.n(O),P=n(92953),A=n(59779),z=n(66069),E=n(25429);function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function D(e,t,n,r,s,a,l){try{var c=e[a](l),o=c.value}catch(i){return void n(i)}c.done?t(o):Promise.resolve(o).then(r,s)}function I(e){return function(){var t=this,n=arguments;return new Promise((function(r,s){var a=e.apply(t,n);function l(e){D(a,r,s,l,c,"next",e)}function c(e){D(a,r,s,l,c,"throw",e)}l(void 0)}))}}function M(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){M(e,t,n[t])}))}return e}function F(e){return function(e){if(Array.isArray(e))return T(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return T(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return T(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var H=function(){var e,t,n,r,l,o,d,u=(0,i.useRouter)().query.id,m=(0,x.useState)({}),p=m[0],h=m[1],f=(0,x.useState)(!0),b=f[0],g=f[1],w=(0,k.ZP)(u&&"account/".concat(u,"/inventory")),v=w.data,N=w.loading,_=(null===v||void 0===v||null===(e=v.inventory)||void 0===e?void 0:e.nfts)||[];return(0,x.useEffect)((function(){var e=function(){var e=I(s().mark((function e(){var t,n,r,a,l;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===(n=null===v||void 0===v||null===(t=v.inventory)||void 0===t?void 0:t.fts)||void 0===n?void 0:n.length){e.next=5;break}return 0===(null===n||void 0===n?void 0:n.length)&&g(!1),e.abrupt("return");case 5:return r=Z()(0),a=[],l=[],e.next=10,Promise.all(n.map(function(){var e=I(s().mark((function e(t){var n,c,o,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=Z()(0),o=Z()(0),e.prev=3,e.next=6,(0,A.Z$)(t.contract,u);case 6:(i=e.sent)&&(o=Z()(i).div(Z()(10).pow(t.ft_metas.decimals))),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),console.log({error:e.t0});case 13:if(!(null===(n=t.ft_metas)||void 0===n?void 0:n.price)){e.next=17;break}return c=o.mul(Z()(t.ft_metas.price)),r=r.add(c),e.abrupt("return",l.push(q({},t,{amountUsd:c.toString(),rpcAmount:o.toString()})));case 17:return e.abrupt("return",a.push(q({},t,{amountUsd:c.toString(),rpcAmount:o.toString()})));case 18:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}()));case 10:a.sort((function(e,t){var n=Z()(e.rpcAmount),r=Z()(t.rpcAmount);return n.lt(r)?1:n.gt(r)?-1:0})),l.sort((function(e,t){var n=Z()(e.amountUsd),r=Z()(t.amountUsd);return n.lt(r)?1:n.gt(r)?-1:0})),h({amountUsd:r.toString(),tokens:F(l).concat(F(a))}),g(!1);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e().catch(console.log)}),[null===v||void 0===v||null===(t=v.inventory)||void 0===t?void 0:t.fts,u]),b||N?(0,a.jsx)(y.Z,{className:"h-full",wrapperClassName:"flex w-full h-7"}):(null===p||void 0===p||null===(n=p.tokens)||void 0===n?void 0:n.length)||(null===_||void 0===_?void 0:_.length)?(0,a.jsxs)(P.v2,{children:[(0,a.jsxs)(P.j2,{className:"w-full h-8 text-sm px-2 rounded border flex items-center justify-between cursor-pointer",children:[(0,a.jsxs)("span",{children:["$",(0,j.IB)((null===p||void 0===p?void 0:p.amountUsd)||0)," ",(0,a.jsx)("span",{className:"bg-green-500 text-xs text-white rounded ml-2 px-1",children:((null===p||void 0===p||null===(r=p.tokens)||void 0===r?void 0:r.length)||0)+((null===_||void 0===_?void 0:_.length)||0)})]}),(0,a.jsx)(E.Z,{className:"w-4 h-4 fill-current text-gray-500 pointer-events-none"})]}),(0,a.jsx)(P.YI,{portal:!1,className:"relative",children:(0,a.jsx)(P.sd,{className:"absolute bg-white w-full rounded-b-lg shadow border z-50 pb-2",children:(0,a.jsx)(C(),{children:(0,a.jsxs)("div",{className:"max-h-60",children:[(null===p||void 0===p||null===(l=p.tokens)||void 0===l?void 0:l.length)>0&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"bg-gray-50 font-semibold px-3 py-2",children:["Tokens"," ",(0,a.jsxs)("span",{className:"font-normal",children:["(",null===p||void 0===p||null===(o=p.tokens)||void 0===o?void 0:o.length,")"]})]}),(0,a.jsx)("div",{className:"text-gray-600 text-xs divide-y outline-none",children:null===p||void 0===p||null===(d=p.tokens)||void 0===d?void 0:d.map((function(e){var t,n,r,s,l,o;return(0,a.jsx)(c(),{href:{pathname:"/token/".concat(e.contract),query:{a:u}},children:(0,a.jsxs)("a",{className:"flex justify-between items-center px-3 py-2 hover:bg-gray-100 truncate",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"flex mr-1",children:(0,a.jsx)(z.Z,{src:null===(t=e.ft_metas)||void 0===t?void 0:t.icon,alt:null===(n=e.ft_metas)||void 0===n?void 0:n.name,className:"w-4 h-4"})}),(0,a.jsxs)("span",{children:[(0,S.truncate)(null===(r=e.ft_metas)||void 0===r?void 0:r.name,{length:15})," ","(",null===(s=e.ft_metas)||void 0===s?void 0:s.symbol,")"]})]}),(0,a.jsx)("div",{className:"text-gray-400 flex items-center mt-1",children:(0,j.bE)(e.rpcAmount)})]}),(null===(l=e.ft_metas)||void 0===l?void 0:l.price)&&(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("div",{children:["$",(0,j.IB)(e.amountUsd)]}),(0,a.jsxs)("div",{className:"text-gray-400",children:["@",Z()(null===(o=e.ft_metas)||void 0===o?void 0:o.price).toString()]})]})]})},e.contract)}))})]}),(null===_||void 0===_?void 0:_.length)>0&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"bg-gray-50 font-semibold px-3 py-2",children:["NFT Tokens"," ",(0,a.jsxs)("span",{className:"font-normal",children:["(",null===_||void 0===_?void 0:_.length,")"]})]}),(0,a.jsx)("div",{className:"text-gray-600 text-xs divide-y outline-none",children:_.map((function(e){var t,n,r,s;return(0,a.jsx)(c(),{href:"/nft-token/".concat(e.contract),children:(0,a.jsx)("a",{className:"flex justify-between items-center px-3 py-2 hover:bg-gray-100 truncate",children:(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"flex mr-1",children:(0,a.jsx)(z.Z,{src:null===(t=e.nft_meta)||void 0===t?void 0:t.icon,alt:null===(n=e.nft_meta)||void 0===n?void 0:n.name,className:"w-4 h-4"})}),(0,a.jsxs)("span",{children:[(0,S.truncate)(null===(r=e.nft_meta)||void 0===r?void 0:r.name,{length:15})," (",null===(s=e.nft_meta)||void 0===s?void 0:s.symbol,")"]})]}),(0,a.jsx)("div",{className:"text-gray-400 flex items-center mt-1",children:(0,j.bE)(e.quantity)})]})})},e.contract)}))})]})]})})})})]}):(0,a.jsx)("select",{className:"appearance-none w-full h-8 text-xs px-2 outline-none rounded bg-white border",children:(0,a.jsx)("option",{children:"N/A"})})},V=function(e){var t,n,r,s,l,o,d,x=e.contract,u=(0,i.useRouter)().query.id,m=(0,h.Z)("address").t,p=(0,k.ZP)("stats").data,f=(0,k.ZP)(u&&"account/".concat(u)),b=f.data,g=f.loading,w=(0,k.ZP)(u&&"account/".concat(u,"/contract/deployments")).data,_=(0,k.ZP)(u&&"fts/".concat(u)).data,Z=null===p||void 0===p||null===(t=p.stats)||void 0===t?void 0:t[0],S=null===b||void 0===b||null===(n=b.account)||void 0===n?void 0:n[0],O=null===w||void 0===w||null===(r=w.deployments)||void 0===r?void 0:r[0],C=null===_||void 0===_||null===(s=_.contracts)||void 0===s?void 0:s[0];return(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 ",children:[(0,a.jsx)("div",{className:"w-full",children:(0,a.jsxs)("div",{className:"h-full bg-white soft-shadow rounded-lg",children:[(0,a.jsxs)("div",{className:"flex justify-between border-b p-3 text-gray-600",children:[(0,a.jsx)("h2",{className:"leading-6 text-sm font-semibold",children:m("overview")}),C&&(0,a.jsxs)("div",{className:"flex items-center text-xs bg-gray-100 rounded-md px-2 py-1",children:[(0,a.jsx)("div",{className:"truncate max-w-[110px]",children:C.name}),C.website&&(0,a.jsx)("a",{href:C.website,className:"ml-1",target:"_blank",rel:"noopener noreferrer nofollow",children:(0,a.jsx)(v.CkN,{})})]})]}),(0,a.jsxs)("div",{className:"px-3 divide-y text-sm text-gray-600",children:[(0,a.jsxs)("div",{className:"flex flex-wrap py-4",children:[(0,a.jsxs)("div",{className:"w-full md:w-1/4 mb-2 md:mb-0 ",children:[m("balance"),":"]}),g?(0,a.jsx)(y.Z,{wrapperClassName:"w-32"}):(0,a.jsxs)("div",{className:"w-full md:w-3/4 break-words",children:[(0,j.xB)(S.amount||0)," \u24c3"]})]}),(null===Z||void 0===Z?void 0:Z.near_price)&&(0,a.jsxs)("div",{className:"flex flex-wrap py-4 text-sm text-gray-600",children:[(0,a.jsx)("div",{className:"w-full md:w-1/4 mb-2 md:mb-0",children:m("value")}),g?(0,a.jsx)(y.Z,{wrapperClassName:"w-32"}):(0,a.jsxs)("div",{className:"w-full md:w-3/4 break-words",children:["$",(0,j.u2)((0,j.xB)(S.amount||0,!1),Z.near_price)," ",(0,a.jsxs)("span",{className:"text-xs",children:["(@ $",(0,j.IB)(Z.near_price)," / \u24c3)"]})]})]}),(0,a.jsxs)("div",{className:"flex flex-wrap py-4 text-sm text-gray-600",children:[(0,a.jsx)("div",{className:"w-full md:w-1/4 mb-2 md:mb-0",children:m("tokens")}),(0,a.jsx)("div",{className:"w-full md:w-3/4 break-words -my-1",children:(0,a.jsx)(H,{})})]})]})]})}),(0,a.jsx)("div",{className:"w-full",children:(0,a.jsxs)("div",{className:"h-full bg-white soft-shadow rounded-lg overflow-hidden",children:[(0,a.jsx)("h2",{className:"leading-6 border-b p-3 text-gray-600 text-sm font-semibold",children:m("moreInfo")}),(0,a.jsxs)("div",{className:"px-3 divide-y text-sm text-gray-600",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsxs)("div",{className:"flex xl:flex-nowrap flex-wrap items-center justify-between py-4 w-full",children:[(0,a.jsxs)("div",{className:"w-full mb-2 md:mb-0 ",children:["Staked ",m("balance"),":"]}),g?(0,a.jsx)("div",{className:"w-full break-words",children:(0,a.jsx)(y.Z,{wrapperClassName:"w-28"})}):(0,a.jsxs)("div",{className:"w-full break-words xl:mt-0 mt-2",children:[(0,j.xB)((null===S||void 0===S?void 0:S.locked)||0)," \u24c3"]})]}),(0,a.jsxs)("div",{className:"flex ml-4 xl:flex-nowrap flex-wrap items-center justify-between py-4 w-full",children:[(0,a.jsx)("div",{className:"w-full mb-2 md:mb-0 ",children:"Storage Used:"}),g?(0,a.jsx)("div",{className:"w-full break-words",children:(0,a.jsx)(y.Z,{wrapperClassName:"w-28"})}):(0,a.jsx)("div",{className:"w-full break-words xl:mt-0 mt-2",children:(0,j.jQ)((null===S||void 0===S?void 0:S.storage_usage)||0)})]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsxs)("div",{className:"flex xl:flex-nowrap flex-wrap items-center justify-between py-4 w-full",children:[g?(0,a.jsx)("div",{className:"w-full mb-2 md:mb-0",children:(0,a.jsx)(y.Z,{wrapperClassName:"w-28"})}):(0,a.jsx)("div",{className:"w-full mb-2 md:mb-0",children:(null===S||void 0===S||null===(l=S.deleted)||void 0===l?void 0:l.transaction_hash)?"Deleted At:":"Created At:"}),g?(0,a.jsx)("div",{className:"w-full break-words",children:(0,a.jsx)(y.Z,{wrapperClassName:"w-40"})}):(0,a.jsx)("div",{className:"w-full break-words xl:mt-0 mt-2",children:(null===S||void 0===S||null===(o=S.deleted)||void 0===o?void 0:o.transaction_hash)?N.Z.utc((0,j.Vz)(S.deleted.block_timestamp)).format("MMM-DD-YYYY HH:mm:ss"):(null===S||void 0===S||null===(d=S.created)||void 0===d?void 0:d.transaction_hash)?N.Z.utc((0,j.Vz)(S.created.block_timestamp)).format("MMM-DD-YYYY HH:mm:ss"):(null===S||void 0===S?void 0:S.code_hash)?"Genesis":"N/A"})]}),(null===x||void 0===x?void 0:x.hash)?(0,a.jsxs)("div",{className:"flex ml-4 xl:flex-nowrap flex-wrap items-center justify-between py-4 w-full",children:[(0,a.jsx)("div",{className:"w-full mb-2 md:mb-0 ",children:"Contract Locked:"}),(0,a.jsx)("div",{className:"w-full break-words xl:mt-0 mt-2",children:(null===x||void 0===x?void 0:x.locked)?"Yes":"No"})]}):(0,a.jsx)("div",{className:"flex ml-4 xl:flex-nowrap flex-wrap items-center justify-between py-4 w-full"})]}),(null===O||void 0===O?void 0:O.receipt_predecessor_account_id)&&(0,a.jsxs)("div",{className:"flex flex-wrap items-center justify-between py-4",children:[(0,a.jsx)("div",{className:"w-full md:w-1/4 mb-2 md:mb-0 ",children:"Contract Creator:"}),(0,a.jsxs)("div",{className:"w-full md:w-3/4 break-words",children:[(0,a.jsx)(c(),{href:"/address/".concat(O.receipt_predecessor_account_id),children:(0,a.jsx)("a",{className:"text-green-500",children:(0,j.Xn)(O.receipt_predecessor_account_id)})})," at txn  ",(0,a.jsx)(c(),{href:"/txns/".concat(O.transaction_hash),children:(0,a.jsx)("a",{className:"text-green-500",children:(0,j.Xn)(O.transaction_hash)})})]})]}),C&&(0,a.jsxs)("div",{className:"flex flex-wrap items-center justify-between py-4",children:[(0,a.jsx)("div",{className:"w-full md:w-1/4 mb-2 md:mb-0 ",children:"Token Tracker:"}),(0,a.jsx)("div",{className:"w-full md:w-3/4 break-words",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(z.Z,{src:C.icon,alt:C.name,className:"w-4 h-4 mr-2"}),(0,a.jsx)(c(),{href:"/token/".concat(u),children:(0,a.jsxs)("a",{className:"flex text-green-500",children:[(0,a.jsx)("span",{className:"inline-block truncate max-w-[110px] mr-1",children:C.name}),"(",(0,a.jsx)("span",{className:"inline-block truncate max-w-[80px]",children:C.symbol}),")"]})}),C.price&&(0,a.jsxs)("div",{className:"text-gray-500 ml-1",children:["(@ $",(0,j.bE)(C.price),")"]})]})})]})]})]})})]})},U=(0,x.memo)(V),K=n(40442),Y=n.n(K),L=n(33369),R=n(33542),B=n(66386),Q=n(83362);function W(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $=function(e){return(0,a.jsxs)("svg",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){W(e,t,n[t])}))}return e}({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:24,height:24},e,{children:[(0,a.jsx)("path",{fill:"none",d:"M0 0h24v24H0z"}),(0,a.jsx)("path",{d:"M16 17v-1h-3v-3h3v2h2v2h-1v2h-2v2h-2v-3h2v-1h1zm5 4h-4v-2h2v-2h2v4zM3 3h8v8H3V3zm10 0h8v8h-8V3zM3 13h8v8H3v-8zm15 0h3v2h-3v-2zM6 6v2h2V6H6zm0 10v2h2v-2H6zM16 6v2h2V6h-2z"})]}))},G=n(4023),X=function(e){var t=e.address,n=(0,x.useRef)(null),r=(0,x.useState)(!1),s=r[0],l=r[1],c=(0,x.useState)(!1),o=c[0],i=c[1];(0,x.useEffect)((function(){var e=new(Y())(n.current,{text:function(){return t}});return e.on("success",(function(){i((function(e){return!e})),setTimeout((function(){return i((function(e){return!e}))}),1500)})),function(){return e.destroy()}}),[t]);var d=function(){return l((function(e){return!e}))};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("span",{className:"inline-flex space-x-2 h-7",children:[(0,a.jsx)(R.ZP,{label:"Copy account ID to clipboard",className:"absolute h-auto max-w-xs bg-black bg-opacity-90 z-10 text-xs text-white px-3 py-2 break-words",children:(0,a.jsxs)("span",{className:"relative",children:[o&&(0,a.jsx)("span",{className:"absolute bg-black bg-opacity-90 z-30 -left-full -top-9 text-xs text-white break-normal px-3 py-2",children:"Copied!"}),(0,a.jsx)("button",{ref:n,type:"button",className:"bg-green-500 bg-opacity-10 hover:bg-opacity-100 group rounded-full p-1.5 w-7 h-7",children:(0,a.jsx)(Q.Z,{className:"fill-current -z-50 text-green-500 group-hover:text-white h-4 w-4"})})]})}),(0,a.jsx)(R.ZP,{label:"Click to view QR Code",className:"absolute h-auto max-w-xs bg-black bg-opacity-90 z-10 text-xs text-white px-3 py-2 break-words",children:(0,a.jsx)("button",{type:"button",onClick:d,className:"bg-green-500 bg-opacity-10 hover:bg-opacity-100 group rounded-full p-1.5 w-7 h-7",children:(0,a.jsx)($,{className:"fill-current text-green-500 group-hover:text-white h-4 w-4"})})})]}),(0,a.jsx)(B.t9,{isOpen:s,onDismiss:d,className:"fixed bg-black bg-opacity-10 inset-0 z-30 flex items-center justify-center",children:(0,a.jsxs)(B.cZ,{"aria-label":"Qr Code",className:"w-full max-w-xl mx-auto bg-white shadow-lg rounded-lg overflow-hidden",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between bg-gray-100 px-3 py-4",children:[(0,a.jsx)("h4",{className:"flex items-center text-xs break-all",children:t}),(0,a.jsx)("button",{className:"text-gray-500 fill-current",onClick:d,children:(0,a.jsx)(G.Z,{})})]}),(0,a.jsx)("div",{className:"p-4",children:(0,a.jsx)(L.Z,{size:160,value:t,fgColor:"#0173CD",className:"w-40 h-40 mx-auto"})})]})})]})},J=n(29325),ee=function(e){return(0,a.jsx)("svg",{width:"11",height:"12",viewBox:"0 0 11 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.5418 12V2H6.87516V3H9.62516V11H1.37516V3H4.12516V2H0.458496V12H10.5418ZM5.04183 5.5H3.2085L5.50016 8.5L7.79183 5.5H5.9585V0H5.04183V5.5Z",fill:"#F3F5FA"})})},te=n(78468),ne=n(83221),re=n.n(ne),se=n(63978),ae=n.n(se),le=function(e,t){switch(e){case"CREATE_ACCOUNT":case"CreateAccount":return(0,a.jsx)("div",{className:"px-1 py-1 flex justify-center items-center text-xs",children:t("createAccount")});case"DEPLOY_CONTRACT":case"DeployContract":return(0,a.jsx)("div",{className:"px-1 py-1 flex justify-center items-center text-xs",children:t("deployContract")});case"TRANSFER":case"Transfer":return(0,a.jsx)("div",{className:"bg-emerald-50 px-1 py-1 flex justify-center items-center text-xs",children:t("transfer")});case"STAKE":case"Stake":return(0,a.jsx)("div",{className:"px-1 py-1 flex justify-center items-center text-xs",children:t("stake")});case"ADD_KEY":case"AddKey":return(0,a.jsx)("div",{className:"px-1 py-1 flex justify-center items-center text-xs",children:"Acces Key Created"});case"DELETE_KEY":case"DeleteKey":return(0,a.jsx)("div",{className:"bg-red-50 px-1 py-1 flex justify-center items-center text-xs",children:"Acces Key Deleted"});case"DELETE_ACCOUNT":case"DeleteAccount":return(0,a.jsx)("div",{className:"bg-red-50 px-1 py-1 flex justify-center items-center text-xs",children:t("deleteAccount")});default:return(0,a.jsx)("div",{className:"px-1 py-1 flex justify-center items-center text-xs",children:ae()(re()(e))})}},ce=function(e){var t,n,r,s,l,o,i,d,u,m,p,f,b,g=e.accessKey,y=e.showWhen,w=(0,h.Z)("txns").t,v=(0,x.useState)(),k=v[0],_=v[1],Z=(0,j.Vz)((null===(t=g.created)||void 0===t?void 0:t.block_timestamp)||0),S=(0,j.Vz)((null===(n=g.deleted)||void 0===n?void 0:n.block_timestamp)||0),O=Z>S?g.created:g.deleted,C=(null===(r=g.deleted)||void 0===r?void 0:r.transaction_hash)&&Z<=S?"Deleted":"Created";return(0,x.useEffect)((function(){g.public_key&&"FUNCTION_CALL"===g.permission_kind&&(0,A.RV)(g.account_id,g.public_key).then(_).catch((function(){}))}),[g]),(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("tr",{className:"hover:bg-blue-900/5",children:[(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(null===O||void 0===O?void 0:O.transaction_hash)?(0,a.jsx)(R.ZP,{label:null===O||void 0===O?void 0:O.transaction_hash,className:"absolute h-auto max-w-xs bg-black bg-opacity-90 z-10 text-white text-xs p-2 break-words",children:(0,a.jsx)("span",{className:"truncate max-w-[120px] inline-block align-bottom text-green-500 font-medium",children:(0,a.jsx)(c(),{href:"/txns/".concat(null===O||void 0===O?void 0:O.transaction_hash),children:(0,a.jsx)("a",{className:"text-green-500",children:(null===O||void 0===O?void 0:O.transaction_hash)&&(null===O||void 0===O?void 0:O.transaction_hash)})})})}):"Genesis"}),(0,a.jsx)("td",{className:"pl-6 pr-2 py-4 whitespace-nowrap text-sm text-gray-500 ",children:(0,a.jsx)(R.ZP,{label:g.public_key,className:"absolute h-auto max-w-xs bg-black bg-opacity-90 z-10 text-white text-xs p-2 break-words",children:(0,a.jsx)("span",{className:"truncate max-w-[120px] inline-block align-bottom",children:g.public_key})})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 flex justify-start",children:"FUNCTION_CALL"===g.permission_kind?(0,a.jsx)("div",{className:"bg-blue-900/10 rounded px-4 h-6 flex items-center justify-center text-center text-xs",children:"Limited"}):(0,a.jsx)("div",{className:"bg-blue-900/10 rounded px-4 h-6 flex items-center justify-center text-center text-xs",children:"Full"})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:k&&(null===k||void 0===k||null===(s=k.permission)||void 0===s||null===(l=s.FunctionCall)||void 0===l?void 0:l.receiver_id)}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 flex justify-start ",children:k&&(0,a.jsx)("div",{className:"flex flex-col ",children:(null===k||void 0===k||null===(o=k.permission)||void 0===o||null===(i=o.FunctionCall)||void 0===i?void 0:i.method_names.length)>0?null===k||void 0===k||null===(d=k.permission)||void 0===d||null===(u=d.FunctionCall)||void 0===u?void 0:u.method_names.map((function(e){return(0,a.jsxs)("div",{children:[le(e,w)," "]},e)})):"FUNCTION_CALL"===g.permission_kind?"Any":"Full Access"})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:k&&(null===k||void 0===k||null===(m=k.permission)||void 0===m||null===(p=m.FunctionCall)||void 0===p?void 0:p.allowance)&&"\u24c3 "+(0,j.xB)((null===k||void 0===k||null===(f=k.permission)||void 0===f||null===(b=f.FunctionCall)||void 0===b?void 0:b.allowance)||0)}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:C}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(null===O||void 0===O?void 0:O.block_timestamp)?(0,a.jsx)(R.ZP,{label:y?N.Z.utc((0,j.Vz)(null===O||void 0===O?void 0:O.block_timestamp)).format("YYYY-MM-DD HH:mm:ss"):(0,N.Z)().to((0,N.Z)((0,j.Vz)(null===O||void 0===O?void 0:O.block_timestamp))),className:"absolute h-auto max-w-xs bg-black bg-opacity-90 z-10 text-white text-xs p-2",children:(0,a.jsx)("span",{children:y?(0,N.Z)().to((0,N.Z)((0,j.Vz)(null===O||void 0===O?void 0:O.block_timestamp))):N.Z.utc((0,j.Vz)(null===O||void 0===O?void 0:O.block_timestamp)).format("YYYY-MM-DD HH:mm:ss")})}):"Genesis"})]},g.public_key)})},oe=n(64145),ie=n(82013),de=n(25308),xe=n(12247);function ue(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function me(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){me(e,t,n[t])}))}return e}function he(e){return function(e){if(Array.isArray(e))return ue(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return ue(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ue(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var fe=function(){var e,t,n=(0,i.useRouter)().query.id,r=(0,x.useState)(!0),s=r[0],l=r[1],c=(0,oe.Z)(),o=c.sqs,d=c.sorting,u=c.setSorting,m=(0,xe.Z)(),p=m.pqs,h=m.pagination,f=m.setPagination,b=m.resetPagination,j=(0,k.ZP)("account/".concat(n,"/keys?").concat(o,"&").concat(p)),g=j.data,w=j.loading,v=(0,k.ZP)("account/".concat(n,"/keys/count")),N=v.data,_=v.loading,Z=(null===g||void 0===g?void 0:g.keys)||[],S=(null===N||void 0===N||null===(e=N.keys)||void 0===e||null===(t=e[0])||void 0===t?void 0:t.count)||0;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"overflow-x-auto ",children:(0,a.jsxs)("table",{className:"min-w-full divide-y border-t",children:[(0,a.jsx)("thead",{className:"bg-gray-100",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{scope:"col",className:"px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Txn Hash"}),(0,a.jsx)("th",{scope:"col",className:"px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Public key"}),(0,a.jsx)("th",{scope:"col",className:"px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Access"}),(0,a.jsx)("th",{scope:"col",className:"px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Contract"}),(0,a.jsx)("th",{scope:"col",className:"px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Method"}),(0,a.jsx)("th",{scope:"col",className:"px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Allowance"}),(0,a.jsx)("th",{scope:"col",className:"px-6 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Action"}),(0,a.jsx)("th",{scope:"col",className:"text-left",children:(0,a.jsxs)("div",{className:"w-full inline-flex px-5 py-4",children:[(0,a.jsx)("button",{type:"button",onClick:function(){return l((function(e){return!e}))},className:"text-left text-xs w-full font-semibold uppercase tracking-wider text-nearblue-600 focus:outline-none",children:s?"When":"Date Time (UTC)"}),(0,a.jsx)("button",{type:"button",onClick:function(){b(),u((function(e){return pe({},e,{order:"asc"===e.order?"desc":"asc"})}))},className:"px-2",children:(0,a.jsx)("div",{className:"text-nearblue-600 font-semibold",children:(0,a.jsx)(ie.Z,{order:d.order})})})]})})]})}),(0,a.jsxs)("tbody",{className:"bg-white divide-y divide-gray-200",children:[w&&he(Array(25)).map((function(e,t){return(0,a.jsxs)("tr",{className:"hover:bg-blue-900/5 h-[57px]",children:[(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(0,a.jsx)(y.Z,{})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(0,a.jsx)(y.Z,{})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(0,a.jsx)(y.Z,{})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-tiny ",children:(0,a.jsx)(y.Z,{})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(0,a.jsx)(y.Z,{})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(0,a.jsx)(y.Z,{})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(0,a.jsx)(y.Z,{})})]},t)})),!w&&0===Z.length&&(0,a.jsx)("tr",{className:"h-[57px]",children:(0,a.jsx)("td",{colSpan:"100%",className:"px-6 py-4 text-gray-400 text-xs",children:"No access keys"})}),Z.map((function(e){return(0,a.jsx)(ce,{accessKey:e,showWhen:s},e.account_id+e.public_key)}))]})]})}),(0,a.jsx)(de.Z,{count:S,loading:_,page:h.page,setPage:function(e){return"function"===typeof e?f((function(t){return pe({},t,{page:e(t.page)})})):f("page",e)},limit:h.per_page})]})},be=n(52726),je=n(52007),ge=n.n(je);function ye(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var we=function(e){var t=(0,x.useState)((function(){return e})),n=t[0],r=t[1],s=(0,x.useMemo)((function(){return ge().stringify(n)}),[n]),a=(0,x.useCallback)((function(e,t){return r("function"===typeof e?function(t){return(0,j.KE)(e(t))}:function(n){return(0,j.KE)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){ye(e,t,n[t])}))}return e}({},n,ye({},e,t)))})}),[]);return{qs:s,filters:n,setFilters:a}},ve=n(96671),Ne=n(82699),ke=n(4661),_e=n(87804);function Ze(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Se(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Se(e,t,n[t])}))}return e}function Ce(e){return function(e){if(Array.isArray(e))return Ze(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return Ze(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ze(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Pe={action:"",method:"",from:"",to:""},Ae=function(){var e,t,n=(0,i.useRouter)().query.id,r=(0,h.Z)("txns").t,s=(0,x.useState)(!0),l=s[0],o=s[1],d=(0,x.useState)(Pe),u=d[0],m=d[1],p=we(),f=p.qs,b=p.filters,g=p.setFilters,w=(0,oe.Z)(),v=w.sqs,N=w.sorting,_=w.setSorting,Z=w.resetSorting,S=(0,xe.Z)(),O=S.pqs,C=S.pagination,A=S.setPagination,z=S.resetPagination,E=(0,k.ZP)("account/".concat(n,"/txns?").concat(f,"&").concat(v,"&").concat(O)),T=E.data,D=E.loading,I=(0,k.ZP)("account/".concat(n,"/txns/count?").concat(f)),M=I.data,q=I.loading,F=(null===T||void 0===T?void 0:T.txns)||[],H=(null===M||void 0===M||null===(e=M.txns)||void 0===e||null===(t=e[0])||void 0===t?void 0:t.count)||0,V=function(e){var t=e.target.name,n=e.target.value;return"type"===t?(0,ke.LG)(n)?m((function(e){return Oe({},e,{action:n,method:""})})):m((function(e){return Oe({},e,{method:n,action:""})})):m((function(e){return Oe({},e,Se({},t,n))}))},U=function(e){e.preventDefault(),Z(),z(),g((function(e){return Oe({},e,u)}))},K=function(e){var t=e.target.name;if(Z(),z(),"type"===t)return m((function(e){return Oe({},e,{action:"",method:""})})),g((function(e){return Oe({},e,{action:void 0,method:void 0})}));m((function(e){return Oe({},e,Se({},t,""))})),g((function(e){return Oe({},e,Se({},t,void 0))}))};return(0,a.jsxs)(a.Fragment,{children:[q?(0,a.jsx)(y.Z,{className:"leading-7",wrapperClassName:"pl-3 max-w-sm py-4 h-[60px]"}):(0,a.jsxs)("div",{className:"flex flex-col lg:flex-row pt-4",children:[(0,a.jsx)("div",{className:"flex flex-col",children:(0,a.jsxs)("p",{className:"leading-7 px-3 text-sm mb-4 text-gray-500",children:["A total of ",(0,j.bE)(H)," transactions found"]})}),(0,a.jsx)(be.Z,{filters:b,onClear:function(){var e,t=(e=Object).assign.apply(e,Ce(Object.keys(b).map((function(e){return Se({},e,void 0)}))));Z(),z(),m(Pe),g((function(e){return Oe({},e,t)}))}})]}),(0,a.jsx)("div",{className:"overflow-x-auto ",children:(0,a.jsxs)("table",{className:"min-w-full divide-y border-t",children:[(0,a.jsx)("thead",{className:"bg-gray-100",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{scope:"col"}),(0,a.jsx)("th",{scope:"col",className:"px-5 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:r("hash")}),(0,a.jsx)("th",{scope:"col",children:(0,a.jsxs)(P.v2,{children:[(0,a.jsxs)(P.j2,{className:"flex items-center px-6 py-4 text-left text-xs font-semibold text-nearblue-600 uppercase tracking-wider focus:outline-none",children:[r("type")," ",(0,a.jsx)(ve.Z,{className:"h-4 w-4 fill-current ml-2"})]}),(0,a.jsx)(P.qy,{className:"bg-white shadow-lg border rounded-b-lg p-2",children:(0,a.jsxs)("form",{onSubmit:U,className:"flex flex-col",children:[(0,a.jsx)("input",{name:"type",value:u.action||u.method,onChange:V,placeholder:"Search by method",className:"border rounded h-8 mb-2 px-2 text-gray-500 text-xs"}),(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsxs)("button",{type:"submit",className:"flex items-center justify-center flex-1 rounded bg-green-500 h-7 text-white text-xs mr-2",children:[(0,a.jsx)(ve.Z,{className:"h-3 w-3 fill-current mr-2"})," ",r("filter.filter")]}),(0,a.jsx)("button",{name:"type",type:"button",onClick:K,className:"flex-1 rounded bg-gray-300 text-xs h-7",children:r("filter.clear")})]})]})})]})}),(0,a.jsx)("th",{scope:"col",className:"px-5 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider whitespace-nowrap",children:r("depositValue")}),(0,a.jsx)("th",{scope:"col",className:"px-5 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:r("txnFee")}),(0,a.jsx)("th",{scope:"col",children:(0,a.jsxs)(P.v2,{children:[(0,a.jsxs)(P.j2,{className:"flex items-center px-6 py-4 text-left text-xs font-semibold text-nearblue-600 uppercase tracking-wider focus:outline-none",children:[r("from")," ",(0,a.jsx)(ve.Z,{className:"h-4 w-4 fill-current ml-2"})]}),(0,a.jsx)(P.qy,{className:"bg-white shadow-lg border rounded-b-lg p-2",children:(0,a.jsxs)("form",{onSubmit:U,className:"flex flex-col",children:[(0,a.jsx)("input",{name:"from",value:u.from,onChange:V,placeholder:r("filter.placeholder"),className:"border rounded h-8 mb-2 px-2 text-gray-500 text-xs"}),(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsxs)("button",{type:"submit",className:"flex items-center justify-center flex-1 rounded bg-green-500 h-7 text-white text-xs mr-2",children:[(0,a.jsx)(ve.Z,{className:"h-3 w-3 fill-current mr-2"})," ",r("filter.filter")]}),(0,a.jsx)("button",{name:"from",type:"button",onClick:K,className:"flex-1 rounded bg-gray-300 text-xs h-7",children:r("filter.clear")})]})]})})]})}),(0,a.jsx)("th",{scope:"col"}),(0,a.jsx)("th",{scope:"col",children:(0,a.jsxs)(P.v2,{children:[(0,a.jsxs)(P.j2,{className:"flex items-center px-6 py-4 text-left text-xs font-semibold text-nearblue-600 uppercase tracking-wider focus:outline-none",children:[r("to")," ",(0,a.jsx)(ve.Z,{className:"h-4 w-4 fill-current ml-2"})]}),(0,a.jsx)(P.qy,{className:"bg-white shadow-lg border rounded-b-lg p-2",children:(0,a.jsxs)("form",{onSubmit:U,className:"flex flex-col",children:[(0,a.jsx)("input",{name:"to",value:u.to,onChange:V,placeholder:r("filter.placeholder"),className:"border rounded h-8 mb-2 px-2 text-gray-500 text-xs"}),(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsxs)("button",{type:"submit",className:"flex items-center justify-center flex-1 rounded bg-green-500 h-7 text-white text-xs mr-2",children:[(0,a.jsx)(ve.Z,{className:"h-3 w-3 fill-current mr-2"})," ",r("filter.filter")]}),(0,a.jsx)("button",{name:"to",type:"button",onClick:K,className:"flex-1 rounded bg-gray-300 text-xs h-7",children:r("filter.clear")})]})]})})]})}),(0,a.jsx)("th",{scope:"col",className:"px-5 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider whitespace-nowrap",children:r("blockHeight")}),(0,a.jsx)("th",{scope:"col",children:(0,a.jsxs)("div",{className:"w-full inline-flex px-5 py-4",children:[(0,a.jsx)("button",{type:"button",onClick:function(){return o((function(e){return!e}))},className:"text-left text-xs w-full font-semibold uppercase tracking-wider text-nearblue-600 focus:outline-none",children:r(l?"age":"ageDT")}),(0,a.jsx)("button",{type:"button",onClick:function(){z(),_((function(e){return Oe({},e,{order:"asc"===e.order?"desc":"asc"})}))},className:"px-2",children:(0,a.jsx)("div",{className:"text-nearblue-600 font-semibold",children:(0,a.jsx)(ie.Z,{order:N.order})})})]})})]})}),(0,a.jsxs)("tbody",{className:"bg-white divide-y divide-gray-200",children:[D&&Ce(Array(25)).map((function(e,t){return(0,a.jsxs)("tr",{className:"hover:bg-blue-900/5 h-[57px]",children:[(0,a.jsx)("td",{className:"pl-5 pr-2 py-4 whitespace-nowrap text-sm text-gray-500 flex justify-end ",children:(0,a.jsx)(y.Z,{})}),(0,a.jsx)("td",{className:"px-5 py-4 whitespace-nowrap text-sm text-gray-500",children:(0,a.jsx)(y.Z,{})}),(0,a.jsx)("td",{className:"px-5 py-4 whitespace-nowrap text-sm text-gray-500",children:(0,a.jsx)(y.Z,{})}),(0,a.jsx)("td",{className:"px-5 py-4 whitespace-nowrap text-tiny ",children:(0,a.jsx)(y.Z,{})}),(0,a.jsx)("td",{className:"px-5 py-4 whitespace-nowrap text-sm text-gray-500",children:(0,a.jsx)(y.Z,{wrapperClassName:"w-16"})}),(0,a.jsx)("td",{className:"px-5 py-4 whitespace-nowrap text-sm text-gray-500",children:(0,a.jsx)(y.Z,{})}),(0,a.jsx)("td",{className:"px-5 py-4 whitespace-nowrap text-sm text-gray-500",children:(0,a.jsx)(y.Z,{})}),(0,a.jsx)("td",{className:"px-5 py-4 whitespace-nowrap text-sm text-gray-500",children:(0,a.jsx)(y.Z,{})}),(0,a.jsx)("td",{className:"px-5 py-4 whitespace-nowrap text-sm text-gray-500",children:(0,a.jsx)(y.Z,{})}),(0,a.jsx)("td",{className:"px-5 py-4 whitespace-nowrap text-sm text-gray-500",children:(0,a.jsx)(y.Z,{})})]},t)})),!D&&0===F.length&&(0,a.jsx)("tr",{className:"h-[57px]",children:(0,a.jsx)("td",{colSpan:"100%",className:"px-6 py-4 text-gray-400 text-xs",children:r("noTxns")})}),F.map((function(e){var t,s,o;return(0,a.jsxs)("tr",{className:"h-[57px] hover:bg-blue-900/5",children:[(0,a.jsx)("td",{className:"pl-5 pr-2 py-4 whitespace-nowrap text-sm text-gray-500 flex justify-end ",children:(0,a.jsx)(_e.Z,{status:e.outcomes.status})}),(0,a.jsx)("td",{className:"px-5 py-4 whitespace-nowrap text-sm text-gray-500",children:(0,a.jsx)(R.ZP,{label:e.transaction_hash,className:"absolute h-auto max-w-xs bg-black bg-opacity-90 z-10 text-white text-xs p-2 break-words",children:(0,a.jsx)("span",{className:"truncate max-w-[120px] inline-block align-bottom text-green-500",children:(0,a.jsx)(c(),{href:"/txns/".concat(e.transaction_hash),children:(0,a.jsx)("a",{className:"text-green-500 font-medium",children:e.transaction_hash})})})})}),(0,a.jsx)("td",{className:"px-5 py-4 whitespace-nowrap text-sm text-gray-500",children:(0,a.jsx)(R.ZP,{label:(0,ke.EW)(e.actions,r),className:"absolute h-auto max-w-xs bg-black bg-opacity-90 z-10 text-white text-xs p-2 break-words",children:(0,a.jsx)("span",{className:"bg-blue-900/10 text-xs text-gray-500 rounded-xl px-2 py-1 max-w-[120px] inline-flex truncate",children:(0,a.jsx)("span",{className:"block truncate",children:(0,ke.EW)(e.actions,r)})})})}),(0,a.jsxs)("td",{className:"px-5 py-4 whitespace-nowrap text-sm text-gray-500",children:[(0,j.xB)((null===(t=e.actions_agg)||void 0===t?void 0:t.deposit)||0)," \u24c3"]}),(0,a.jsxs)("td",{className:"px-5 py-4 whitespace-nowrap text-sm text-gray-500",children:[(0,j.xB)((null===(s=e.outcomes_agg)||void 0===s?void 0:s.transaction_fee)||0)," \u24c3"]}),(0,a.jsx)("td",{className:"px-5 py-4 whitespace-nowrap text-sm text-gray-500 font-medium",children:(0,a.jsx)(R.ZP,{label:e.predecessor_account_id,className:"absolute h-auto max-w-xs bg-black bg-opacity-90 z-10 text-white text-xs p-2 break-words",children:(0,a.jsx)("span",{className:"truncate max-w-[120px] inline-block align-bottom text-green-500",children:(0,a.jsx)(c(),{href:"/address/".concat(e.predecessor_account_id),children:(0,a.jsx)("a",{className:"text-green-500",children:e.predecessor_account_id})})})})}),(0,a.jsx)("td",{children:e.predecessor_account_id===e.receiver_account_id?(0,a.jsx)("span",{className:"uppercase rounded w-10 py-2 h-6 flex items-center justify-center bg-green-200 text-white text-xs font-semibold",children:r("txnSelf")}):n===e.predecessor_account_id?(0,a.jsx)("span",{className:"uppercase rounded w-10 h-6 flex items-center justify-center bg-yellow-100 text-yellow-700 text-xs font-semibold",children:r("txnOut")}):(0,a.jsx)("span",{className:"uppercase rounded w-10 h-6 flex items-center justify-center bg-neargreen text-white text-xs font-semibold",children:r("txnIn")})}),(0,a.jsx)("td",{className:"px-5 py-4 whitespace-nowrap text-sm text-gray-500 font-medium",children:(0,a.jsx)(R.ZP,{label:e.receiver_account_id,className:"absolute h-auto max-w-xs bg-black bg-opacity-90 z-10 text-white text-xs p-2 break-words",children:(0,a.jsx)("span",{className:"truncate max-w-[120px] inline-block align-bottom text-green-500",children:(0,a.jsx)(c(),{href:"/address/".concat(e.receiver_account_id),children:(0,a.jsx)("a",{className:"text-green-500",children:e.receiver_account_id})})})})}),(0,a.jsx)("td",{className:"px-5 py-4 whitespace-nowrap text-sm text-gray-500 font-medium",children:(0,a.jsx)(c(),{href:"/blocks/".concat(e.included_in_block_hash),children:(0,a.jsx)("a",{className:"text-green-500",children:(0,j.bE)(null===(o=e.block)||void 0===o?void 0:o.block_height)})})}),(0,a.jsx)("td",{className:"px-5 py-4 whitespace-nowrap text-sm text-gray-500",children:(0,a.jsx)(Ne.Z,{timestamp:e.block_timestamp,showAge:l})})]},e.receipt_id)}))]})]})}),(0,a.jsx)(de.Z,{count:H,loading:q,page:C.page,setPage:function(e){return"function"===typeof e?A((function(t){return Oe({},t,{page:e(t.page)})})):A("page",e)},limit:C.per_page})]})},ze=n(59289),Ee=n(61315);function Te(e,t,n,r,s,a,l){try{var c=e[a](l),o=c.value}catch(i){return void n(i)}c.done?t(o):Promise.resolve(o).then(r,s)}var De="mainnet",Ie=Ee.connect,Me=Ee.keyStores,qe=Ee.WalletConnection,Fe=function(){var e=(0,x.useState)({}),t=e[0],n=e[1];return(0,x.useEffect)((function(){var e=function(){var e,t=(e=s().mark((function e(){var t,r,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={networkId:De,keyStore:new Me.BrowserLocalStorageKeyStore,nodeUrl:"https://rpc.".concat(De,".near.org"),walletUrl:"https://wallet.".concat(De,".near.org")},e.next=4,Ie(t);case 4:r=e.sent,a=new qe(r),n({near:r,wallet:a}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})),function(){var t=this,n=arguments;return new Promise((function(r,s){var a=e.apply(t,n);function l(e){Te(a,r,s,l,c,"next",e)}function c(e){Te(a,r,s,l,c,"throw",e)}l(void 0)}))});return function(){return t.apply(this,arguments)}}();e()}),[]),t};function He(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ve(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,a=[],l=!0,c=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);l=!0);}catch(o){c=!0,s=o}finally{try{l||null==n.return||n.return()}finally{if(c)throw s}}return a}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return He(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return He(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Ue=(0,n(97909).Z)("count"),Ke=function(e){var t=Ve(Ue(e),2),n=t[0],r=t[1];return{contract:n,setValue:function(e){return r(e)}}},Ye=n(62114);function Le(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Re(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,a=[],l=!0,c=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);l=!0);}catch(o){c=!0,s=o}finally{try{l||null==n.return||n.return()}finally{if(c)throw s}}return a}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Le(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Le(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Be=function(e){var t=e.contract,n=(0,i.useRouter)().query.id,r=(0,k.ZP)(n&&"account/".concat(n,"/contract/deployments")),s=r.data,l=r.loading,o=Re((null===s||void 0===s?void 0:s.deployments)||[],2),d=o[0],x=o[1]||d;return(0,a.jsx)("div",{className:"w-full border-t",children:(0,a.jsxs)("div",{className:"h-full bg-white text-sm text-gray-500 ",children:[(0,a.jsxs)("div",{className:"flex flex-wrap p-4",children:[(0,a.jsxs)("div",{className:"flex items-center w-full md:w-1/4 mb-2 md:mb-0",children:[(0,a.jsx)(R.ZP,{label:"Latest time the contract deployed.",className:"absolute h-auto max-w-xs bg-black bg-opacity-90 z-10 text-xs text-white px-3 py-2",children:(0,a.jsx)("div",{children:(0,a.jsx)(Ye.Z,{className:"w-4 h-4 fill-current mr-1"})})}),"Last Updated"]}),l?(0,a.jsx)("div",{className:"w-full md:w-3/4",children:(0,a.jsx)(y.Z,{wrapperClassName:"flex w-full max-w-xl"})}):(0,a.jsx)("div",{className:"w-full md:w-3/4 break-words",children:(null===x||void 0===x?void 0:x.block_timestamp)&&N.Z.utc((0,j.Vz)(null===x||void 0===x?void 0:x.block_timestamp)).format("MMM-DD-YYYY hh:mm:ss A")})]}),(0,a.jsxs)("div",{className:"flex flex-wrap p-4",children:[(0,a.jsxs)("div",{className:"flex items-center w-full md:w-1/4 mb-2 md:mb-0 ",children:[(0,a.jsx)(R.ZP,{label:"The transaction unique identifier (hash) that the contract is latest deployed.",className:"absolute h-auto max-w-xs bg-black bg-opacity-90 z-10 text-xs text-white px-3 py-2",children:(0,a.jsx)("div",{children:(0,a.jsx)(Ye.Z,{className:"w-4 h-4 fill-current mr-1"})})}),"Transaction Hash"]}),l?(0,a.jsx)(y.Z,{wrapperClassName:"w-32"}):(0,a.jsx)("div",{className:"w-full md:w-3/4 break-words",children:(null===x||void 0===x?void 0:x.transaction_hash)&&(0,a.jsx)(c(),{href:"/txns/".concat(x.transaction_hash),children:(0,a.jsx)("a",{className:"text-green-500",children:x.transaction_hash})})})]}),(0,a.jsxs)("div",{className:"flex flex-wrap p-4",children:[(0,a.jsxs)("div",{className:"flex items-center w-full md:w-1/4 mb-2 md:mb-0 ",children:[(0,a.jsx)(R.ZP,{label:"Locked contract means that there are no access keys allowing the contract code to be re-deployed",className:"absolute h-auto max-w-xs bg-black bg-opacity-90 z-10 text-xs text-white px-3 py-2",children:(0,a.jsx)("div",{children:(0,a.jsx)(Ye.Z,{className:"w-4 h-4 fill-current mr-1"})})}),"Contract Locked"]}),l?(0,a.jsx)(y.Z,{wrapperClassName:"w-32"}):(0,a.jsx)("div",{className:"w-full md:w-3/4 break-words",children:(null===t||void 0===t?void 0:t.locked)?"Yes":"No"})]}),(0,a.jsxs)("div",{className:"flex flex-wrap p-4",children:[(0,a.jsxs)("div",{className:"flex items-center w-full md:w-1/4 mb-2 md:mb-0 ",children:[(0,a.jsx)(R.ZP,{label:"Checksum (SHA-256 in base58 encoding) of the contract binary.",className:"absolute h-auto max-w-xs bg-black bg-opacity-90 z-10 text-xs text-white px-3 py-2",children:(0,a.jsx)("div",{children:(0,a.jsx)(Ye.Z,{className:"w-4 h-4 fill-current mr-1"})})}),"Code Hash"]}),l?(0,a.jsx)(y.Z,{wrapperClassName:"w-32"}):(0,a.jsx)("div",{className:"w-full md:w-3/4 break-words",children:null===t||void 0===t?void 0:t.hash})]})]})})},Qe=n(41825),We=n.n(Qe),$e=n(43661),Ge=n(51907);function Xe(e,t,n,r,s,a,l){try{var c=e[a](l),o=c.value}catch(i){return void n(i)}c.done?t(o):Promise.resolve(o).then(r,s)}var Je=function(e){var t=e.formSchema,n=e.definition,r=e.method,l=e.index,c=(0,i.useRouter)(),o=Fe().near,d=(0,x.useState)(null),u=d[0],m=d[1],p=(0,x.useState)(null),h=p[0],f=p[1],b=(0,x.useState)(!1),j=b[0],g=b[1],y=c.query.id,w=function(){var e,t=(e=s().mark((function e(t){var n,a,l;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.formData,g(!0),e.prev=2,e.next=5,o.account(y);case 5:return a=e.sent,e.next=8,a.viewFunction(y,We()(r),null===n||void 0===n?void 0:n.args);case 8:l=e.sent,m(null),f(JSON.stringify(l,null,2)),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(2),m(e.t0),f(null);case 17:g(!1);case 18:case"end":return e.stop()}}),e,null,[[2,13]])})),function(){var t=this,n=arguments;return new Promise((function(r,s){var a=e.apply(t,n);function l(e){Xe(a,r,s,l,c,"next",e)}function c(e){Xe(a,r,s,l,c,"throw",e)}l(void 0)}))});return function(e){return t.apply(this,arguments)}}();return(0,a.jsxs)(ze.Qd,{className:"flex flex-col text-sm mb-3",children:[(0,a.jsxs)(ze.KF,{className:"bg-gray-50 border rounded flex items-center justify-between px-4 py-2",children:[(0,a.jsxs)("span",{children:[(0,a.jsxs)("span",{className:"text-gray-400",children:[l+1,"."]})," ",We()(r)]}),(0,a.jsx)(Ge.Z,{className:"contract-icon fill-gray-600"})]}),(0,a.jsxs)(ze.Hk,{className:"border p-4 rounded slide-up slide-down",children:[!t&&(null===n||void 0===n?void 0:n.description),t&&(0,a.jsx)($e.ZP,{schema:t,onSubmit:w,uiSchema:{"ui:submitButtonOptions":{norender:!1,submitText:"Query",props:{disabled:j}}}},r),u&&(0,a.jsx)("textarea",{readOnly:!0,rows:"6",className:"block appearance-none outline-none w-full border rounded-lg bg-red-50 border-red-200 p-3 mt-3 resize-y",value:u}),h&&(0,a.jsx)("textarea",{readOnly:!0,rows:"6",className:"block appearance-none outline-none w-full border rounded-lg bg-green-50 border-green-200 p-3 mt-3 resize-y",value:h})]})]},l)};function et(e,t,n,r,s,a,l){try{var c=e[a](l),o=c.value}catch(i){return void n(i)}c.done?t(o):Promise.resolve(o).then(r,s)}function tt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){tt(e,t,n[t])}))}return e}var rt=function(e){var t=e.formSchema,n=e.definition,r=e.method,l=e.index,o=e.connected,d=(0,i.useRouter)(),u=Fe().wallet,m=(0,x.useState)(null),p=m[0],h=m[1],f=(0,x.useState)(null),b=f[0],j=f[1],g=(0,x.useState)(null),y=g[0],w=g[1],v=(0,x.useState)(!1),N=v[0],k=v[1],_=d.query.id,Z=function(){var e,t=(e=s().mark((function e(t){var n,a,l,c,o,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.formData,k(!0),e.prev=2,l=u.account()){e.next=7;break}throw new Error("Error in wallet connection");case 7:return e.next=10,l.functionCall(nt({contractId:_,methodName:We()(r),args:null!==(c=null===n||void 0===n?void 0:n.args)&&void 0!==c?c:{}},null!==(o=null===n||void 0===n?void 0:n.options)&&void 0!==o?o:{}));case 10:i=e.sent,j(null),h(null===i||void 0===i||null===(a=i.transaction_outcome)||void 0===a?void 0:a.id),w(JSON.stringify(i,null,2)),e.next=21;break;case 16:e.prev=16,e.t0=e.catch(2),h(null),j(e.t0),w(null);case 21:k(!1);case 22:case"end":return e.stop()}}),e,null,[[2,16]])})),function(){var t=this,n=arguments;return new Promise((function(r,s){var a=e.apply(t,n);function l(e){et(a,r,s,l,c,"next",e)}function c(e){et(a,r,s,l,c,"throw",e)}l(void 0)}))});return function(e){return t.apply(this,arguments)}}();return(0,a.jsxs)(ze.Qd,{className:"flex flex-col text-sm mb-3",children:[(0,a.jsxs)(ze.KF,{className:"bg-gray-50 border rounded flex items-center justify-between px-4 py-2",children:[(0,a.jsxs)("span",{children:[(0,a.jsxs)("span",{className:"text-gray-400",children:[l+1,"."]})," ",We()(r)]}),(0,a.jsx)(Ge.Z,{className:"contract-icon fill-gray-600"})]}),(0,a.jsxs)(ze.Hk,{className:"border p-4 rounded slide-up slide-down",children:[!t&&(null===n||void 0===n?void 0:n.description),t&&(0,a.jsx)($e.ZP,{schema:t,onSubmit:Z,uiSchema:{"ui:submitButtonOptions":{norender:!1,submitText:"Write",props:{disabled:N||!o}}}},r),b&&(0,a.jsx)("textarea",{readOnly:!0,rows:"6",className:"block appearance-none outline-none w-full border rounded-lg bg-red-50 border-red-100 p-3 mt-3 resize-y",value:b}),p&&(0,a.jsxs)("div",{className:"block appearance-none outline-none w-full border rounded-lg bg-green-50 border-green-100 p-3 mt-3",children:["View txn details:"," ",(0,a.jsx)(R.ZP,{label:p,className:"absolute h-auto max-w-xs bg-black bg-opacity-90 z-10 text-white text-xs p-2 break-words",children:(0,a.jsx)("span",{className:"truncate max-w-[120px] inline-block align-bottom text-green-500",children:(0,a.jsx)(c(),{href:"/txns/".concat(p),children:(0,a.jsx)("a",{className:"text-green-500",children:p})})})})]}),y&&(0,a.jsx)("textarea",{readOnly:!0,rows:"6",className:"block appearance-none outline-none w-full border rounded-lg bg-green-50 border-green-100 p-3 mt-3 resize-y",value:y})]})]},l)},st=n(70880),at=n.n(st),lt=n(54596),ct=n.n(lt);function ot(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function it(e,t,n,r,s,a,l){try{var c=e[a](l),o=c.value}catch(i){return void n(i)}c.done?t(o):Promise.resolve(o).then(r,s)}function dt(e){return function(){var t=this,n=arguments;return new Promise((function(r,s){var a=e.apply(t,n);function l(e){it(a,r,s,l,c,"next",e)}function c(e){it(a,r,s,l,c,"throw",e)}l(void 0)}))}}function xt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ut(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){xt(e,t,n[t])}))}return e}function mt(e){return function(e){if(Array.isArray(e))return ot(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return ot(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ot(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var pt=["string","number","boolean","null","json"],ht=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.sort((function(e,t){return e.id<t.id?-1:e.id>t.id?1:0})),e},ft=function(e){var t={};return e.forEach((function(e){t[e.name]=e.value})),t},bt=function(e){return(0,j.sO)(e)?"json":isNaN(+e)?"undefined"===typeof e?"undefined":(t=e)&&"undefined"!==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t:"number";var t},jt=function(e){var t=e.index,n=e.method,r=e.connected,l=(0,i.useRouter)(),o=Fe(),d=o.near,u=o.wallet,m=(0,x.useState)(null),p=m[0],h=m[1],f=(0,x.useState)(null),b=f[0],j=f[1],g=(0,x.useState)([]),y=g[0],w=g[1],v=(0,x.useState)(null),N=v[0],_=v[1],Z=(0,x.useState)(!1),S=Z[0],O=Z[1],C=(0,x.useState)(!1),P=C[0],A=C[1],z=(0,x.useState)({attachedDeposit:"0",gas:"30000000000000"}),E=z[0],T=z[1],D=l.query.id,I=function(e){return function(t){return w((function(n){var r=n.find((function(t){return t.id===e}));if(r){var s=t.target.name,a=t.target.value,l=n.filter((function(t){return t.id!==e}));return ht(mt(l).concat([ut({},r,xt({},s,a))]))}return ht(n)}))}},M=function(e){return function(t){return T((function(n){return ut({},n,xt({},e,t.target.value))}))}},q=function(){var e=dt(s().mark((function e(){var t,r,a,l;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O(!0),e.prev=1,r=ft(y),e.next=6,d.account(D);case 6:return a=e.sent,e.next=9,a.viewFunction(D,We()(n),r);case 9:l=e.sent,j(null),h(null===l||void 0===l||null===(t=l.transaction_outcome)||void 0===t?void 0:t.id),_(JSON.stringify(l,null,2)),e.next=20;break;case 15:e.prev=15,e.t0=e.catch(1),h(null),j(e.t0),_(null);case 20:O(!1);case 21:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(){return e.apply(this,arguments)}}(),F=function(){var e=dt(s().mark((function e(){var t,r,a,l;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(O(!0),e.prev=1,r=u.account()){e.next=6;break}throw new Error("Error in wallet connection");case 6:return a=ft(y),e.next=9,r.functionCall(ut({contractId:D,methodName:We()(n),args:null!==a&&void 0!==a?a:{}},null!==E&&void 0!==E?E:{}));case 9:l=e.sent,j(null),h(null===l||void 0===l||null===(t=l.transaction_outcome)||void 0===t?void 0:t.id),_(JSON.stringify(l,null,2)),e.next=20;break;case 15:e.prev=15,e.t0=e.catch(1),h(null),j(e.t0),_(null);case 20:O(!1);case 21:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(){return e.apply(this,arguments)}}(),H=function(){var e=dt(s().mark((function e(){var t,r,a,l,c,o,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O(!0),w([]),e.prev=2,t=function(e){var t=o[e];if(t){var n=bt(t),r={id:at()(),name:e,type:n,value:"",placeholder:"number"===n?+t:"object"===typeof t?JSON.stringify(t):t};w((function(e){return mt(e).concat([r])})),A(!0)}},e.next=7,(0,k._i)("account/".concat(D,"/contract/").concat(n));case 7:for(i in l=e.sent,c=(null===l||void 0===l||null===(r=l.action)||void 0===r||null===(a=r[0])||void 0===a?void 0:a.args)||{},o=(null===c||void 0===c?void 0:c.args_json)||{},T((function(e){return{attachedDeposit:(null===c||void 0===c?void 0:c.deposit)||e.attachedDeposit,gas:(null===c||void 0===c?void 0:c.gas)||e.gas}})),o)t(i);e.next=16;break;case 14:e.prev=14,e.t0=e.catch(2);case 16:O(!1);case 17:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(){return e.apply(this,arguments)}}();return(0,a.jsxs)(ze.Qd,{className:"flex flex-col text-gray-600 text-sm mb-3",children:[(0,a.jsxs)(ze.KF,{className:"bg-gray-50 border rounded flex items-center justify-between px-4 py-2",children:[(0,a.jsxs)("span",{children:[(0,a.jsxs)("span",{className:"text-gray-400",children:[t+1,"."]})," ",We()(n)]}),(0,a.jsx)(Ge.Z,{className:"contract-icon fill-gray-600"})]}),(0,a.jsxs)(ze.Hk,{className:"border p-4 rounded slide-up slide-down",children:[(0,a.jsxs)("div",{className:"flex max-w-xl justify-between mb-3",children:[(0,a.jsxs)("div",{className:"flex items-center",children:["Arguments",(0,a.jsx)(R.ZP,{label:"Specify an arguments schema.",className:"absolute h-auto max-w-xs bg-black bg-opacity-90 z-10 text-xs text-white px-3 py-2 ml-2",children:(0,a.jsx)("span",{children:(0,a.jsx)(Ye.Z,{className:"w-4 h-4 fill-current ml-1"})})})]}),(0,a.jsx)("button",{onClick:function(){return w((function(e){return mt(e).concat([{id:at()(),name:"",type:"",value:""}])}))},className:"mx-3 px-3 mr-1 bg-green py-1 text-xs font-medium rounded-md text-white",children:"Add"}),(0,a.jsxs)("button",{onClick:H,disabled:S,className:"flex ml-2 mr-1 bg-green-500 hover:bg-green-400 text-white text-xs px-3 py-1.5 rounded focus:outline-none disabled:opacity-70 disabled:cursor-not-allowed",children:["Auto detect",(0,a.jsx)(R.ZP,{label:"Scan the blockchain to find successful method calls and copy the parameter schema. Auto-detect might not work on every method.",className:"absolute h-auto max-w-xs bg-black bg-opacity-90 z-10 text-xs text-white px-3 py-2 ml-2",children:(0,a.jsx)("span",{children:(0,a.jsx)(Ye.Z,{className:"w-4 h-4 fill-current mx-1 "})})})]})]}),y.map((function(e){return(0,a.jsxs)("div",{className:"flex max-w-xl items-center",children:[(0,a.jsxs)("div",{className:"sm:grid grid-cols-9 gap-2",children:[(0,a.jsx)("input",{name:"name",value:e.name,onChange:I(e.id),placeholder:"Argument name",className:"col-span-3 block border rounded mb-3 h-9 px-3 w-full outline-none"}),(0,a.jsxs)("select",{name:"type",value:e.type,onChange:I(e.id),className:"col-span-2 bg-white block border rounded mb-3 h-9 px-3 w-full outline-none",children:[(0,a.jsx)("option",{value:"",disabled:!0,children:"Type"}),pt.map((function(e){return(0,a.jsx)("option",{value:e,children:ct()(e)},e)}))]}),(0,a.jsx)("input",{name:"value",value:e.value,onChange:I(e.id),placeholder:e.placeholder||"Argument value",className:"col-span-4 block border rounded mb-3 h-9 px-3 w-full outline-none"})]}),(0,a.jsx)("button",{onClick:(t=e.id,function(){return w((function(e){return ht(e.filter((function(e){return e.id!==t})))}))}),className:"ml-3 p-1 mr-1 bg-red-300 self-start mt-1.5 hover:bg-red-400 text-xs font-medium rounded-md text-white",children:(0,a.jsx)(G.Z,{className:"text-white fill-white w-4 h-4"})})]},e.id);var t})),(0,a.jsx)("div",{className:"flex max-w-xl justify-between mb-3",children:(0,a.jsxs)("div",{className:"flex items-center",children:["Options",(0,a.jsx)(R.ZP,{label:"Optional arguments for write operations.",className:"absolute h-auto max-w-xs bg-black bg-opacity-90 z-10 text-xs text-white px-3 py-2 ml-2",children:(0,a.jsx)("span",{children:(0,a.jsx)(Ye.Z,{className:"w-4 h-4 fill-current ml-1"})})})]})}),(0,a.jsx)("div",{className:"slide-down disclosure",children:(0,a.jsxs)("div",{className:"max-w-xl sm:grid grid-cols-2 gap-2",children:[(0,a.jsxs)("label",{children:[(0,a.jsx)("span",{className:"text-gray-400 text-xs",children:"Attached deposit"}),(0,a.jsx)("input",{name:"attachedDeposit",value:E.attachedDeposit,onChange:M("attachedDeposit"),placeholder:"Attached Deposit",className:"block border rounded my-1 h-9 px-3 w-full outline-none"})]}),(0,a.jsxs)("label",{children:[(0,a.jsx)("span",{className:"text-gray-400 text-xs",children:"Gas"}),(0,a.jsx)("input",{name:"gas",value:E.gas,onChange:M("gas"),placeholder:"Gas",className:"block border rounded my-1 h-9 px-3 w-full outline-none"})]})]})}),(0,a.jsxs)("div",{className:"flex items-center mt-5",children:[!P&&(0,a.jsx)("button",{onClick:q,disabled:S,className:"bg-green-500 hover:bg-green-400 text-white text-xs px-3 py-1.5 rounded focus:outline-none disabled:opacity-70 disabled:cursor-not-allowed",children:"Query"}),!P&&(0,a.jsxs)("div",{className:"flex items-center mx-4 text-gray-400",children:["OR"," ",(0,a.jsx)(R.ZP,{label:"We cant differentiate read/write methods for this contract, so you should choose the appropriate action",className:"absolute h-auto max-w-xs bg-black bg-opacity-90 z-10 text-xs text-white px-3 py-2",children:(0,a.jsx)("span",{children:(0,a.jsx)(Ye.Z,{className:"w-4 h-4 fill-current ml-1"})})})]}),(0,a.jsx)("button",{onClick:F,disabled:S||!r,className:"bg-green-500 hover:bg-green-400 text-white text-xs px-3 py-1.5 rounded focus:outline-none disabled:opacity-70 disabled:cursor-not-allowed",children:"Write"})]}),b&&(0,a.jsx)("textarea",{readOnly:!0,rows:"6",className:"block appearance-none outline-none w-full border rounded-lg bg-red-50 border-red-100 p-3 mt-3 resize-y",value:b}),p&&(0,a.jsxs)("div",{className:"block appearance-none outline-none w-full border rounded-lg bg-green-50 border-green-100 p-3 mt-3",children:["View txn details:"," ",(0,a.jsx)(R.ZP,{label:p,className:"absolute h-auto max-w-xs bg-black bg-opacity-90 z-10 text-white text-xs p-2 break-words",children:(0,a.jsx)("span",{className:"truncate max-w-[120px] inline-block align-bottom text-green-500",children:(0,a.jsx)(c(),{href:"/txns/".concat(p),children:(0,a.jsx)("a",{className:"text-green-500",children:p})})})})]}),N&&(0,a.jsx)("textarea",{readOnly:!0,rows:"6",className:"block appearance-none outline-none w-full border rounded-lg bg-green-50 border-green-100 p-3 mt-3 resize-y",value:N})]})]},t)},gt=function(e){var t,n,r=e.id,s=e.contract,l=e.schema,c=e.contractInfo,o=Fe().wallet,i=(0,x.useState)(0),d=i[0],u=i[1],m=(0,x.useState)(),h=m[0],f=m[1],b=Ke(),j=b.contract,g=b.setValue,y=(0,A.ju)(l),w=o&&o.isSignedIn(),v=r===j&&(h||w),N=(0,x.useMemo)((function(){return(0,A.Hm)(l,"view")}),[l]),k=(0,x.useMemo)((function(){return(0,A.Hm)(l,"change")}),[l]),_=function(){g(r),o.requestSignIn(r)},Z=function(){o.signOut(),f(!1)};return(0,a.jsxs)(p.mQ,{selectedIndex:d,onSelect:function(e){return u(e)},children:[(0,a.jsxs)(p.td,{className:"flex flex-wrap px-4 py-3",children:[(0,a.jsx)(p.OK,{className:"px-2 mr-1 md:px-3 border py-2  text-xs font-medium rounded-md text-gray-500 hover:text-green-500 hover:border-green-500 cursor-pointer outline-none",selectedClassName:"text-green-500 border-green-500",children:"Contract Info"}),l&&(0,a.jsx)(p.OK,{className:"px-2 mr-1 md:px-3 border py-2  text-xs font-medium rounded-md text-gray-500 hover:text-green-500 hover:border-green-500 cursor-pointer outline-none",selectedClassName:"text-green-500 border-green-500",children:"Read Contract"}),l&&(0,a.jsx)(p.OK,{className:"px-2 mr-1 md:px-3 border py-2  text-xs font-medium rounded-md text-gray-500 hover:text-green-500 hover:border-green-500 cursor-pointer outline-none",selectedClassName:"text-green-500 border-green-500",children:"Write Contract"}),!l&&(0,a.jsx)(p.OK,{className:"px-2 mr-1 md:px-3 border py-2  text-xs font-medium rounded-md text-gray-500 hover:text-green-500 hover:border-green-500 cursor-pointer outline-none",selectedClassName:"text-green-500 border-green-500",children:"Contract Methods"})]}),(0,a.jsx)(p.x4,{children:(0,a.jsx)(Be,{contract:s})}),l&&(0,a.jsx)(p.x4,{children:(null===N||void 0===N?void 0:N.length)>0&&(0,a.jsx)(ze.UQ,{multiple:!0,collapsible:!0,className:"contract-accordian text-gray-600 px-4 pt-4 border-t",children:null===N||void 0===N?void 0:N.map((function(e,t){var n,r;return(0,a.jsx)(Je,{index:t,method:e,formSchema:null===(n=y[e])||void 0===n?void 0:n.schema,definition:null===(r=l.definitions)||void 0===r?void 0:r[e]},t)}))})}),l&&(0,a.jsxs)(p.x4,{children:[(0,a.jsx)("div",{className:"border-t p-4",children:v?(0,a.jsx)(R.ZP,{label:"Disconnect Wallet",className:"absolute h-auto max-w-xs bg-black bg-opacity-90 z-10 text-white text-xs p-2 break-words",children:(0,a.jsxs)("button",{className:"px-2 mr-1 md:px-3 bg-neargreen py-2 text-xs font-medium rounded-md text-white inline-flex items-center",onClick:Z,children:[(0,a.jsx)("span",{className:"h-3 w-3 inline-block rounded-full mr-2 bg-white"}),"Connected"]})}):(0,a.jsxs)("button",{className:"px-2 mr-1 md:px-3 bg-red-400 py-2 text-xs font-medium rounded-md text-white inline-flex items-center",onClick:_,children:[(0,a.jsx)("span",{className:"h-3 w-3 inline-block rounded-full mr-2 bg-white animate-pulse"}),"Connect to Contract"]})}),(null===k||void 0===k?void 0:k.length)>0&&(0,a.jsx)(ze.UQ,{multiple:!0,collapsible:!0,className:"contract-accordian text-gray-600 px-4 pt-4 border-t",children:null===k||void 0===k?void 0:k.map((function(e,t){var n,r;return(0,a.jsx)(rt,{index:t,method:e,connected:v,formSchema:null===(n=y[e])||void 0===n?void 0:n.schema,definition:null===(r=l.definitions)||void 0===r?void 0:r[e]},t)}))})]}),!l&&(0,a.jsxs)(p.x4,{children:[(0,a.jsx)("div",{className:"border-t p-4",children:v?(0,a.jsx)(R.ZP,{label:"Disconnect Wallet",className:"absolute h-auto max-w-xs bg-black bg-opacity-90 z-10 text-white text-xs p-2 break-words",children:(0,a.jsxs)("button",{className:"px-2 mr-1 md:px-3 bg-neargreen py-2 text-xs font-medium rounded-md text-white inline-flex items-center",onClick:Z,children:[(0,a.jsx)("span",{className:"h-3 w-3 inline-block rounded-full mr-2 bg-white"}),"Connected"]})}):(0,a.jsxs)("button",{className:"px-2 mr-1 md:px-3 bg-red-400 py-2 text-xs font-medium rounded-md text-white inline-flex items-center",onClick:_,children:[(0,a.jsx)("span",{className:"h-3 w-3 inline-block rounded-full mr-2 bg-white animate-pulse"}),"Connect to Contract"]})}),!l&&(0,a.jsxs)("p",{className:"text-xs mx-5 text-gray-500 mb-4 bg-gray-100 px-2 py-2 w-fit rounded shadow",children:["Contracts compiled with"," ",(0,a.jsx)("a",{className:"text-green-500 mx-1",target:"_blank",href:"https://github.com/raendev/raen",rel:"noreferrer noopener nofollow",children:"Raen"}),'will have their methods and parameters automatically shown. For\n              other contracts we provide a best effort "auto detect" facility to\n              find successful methods and parameters from past transactions.']}),(null===c||void 0===c||null===(t=c.methodNames)||void 0===t?void 0:t.length)>0&&(0,a.jsx)(ze.UQ,{multiple:!0,collapsible:!0,className:"contract-accordian text-gray-600 px-4 pt-4 border-t",children:null===c||void 0===c||null===(n=c.methodNames)||void 0===n?void 0:n.map((function(e,t){return(0,a.jsx)(jt,{index:t,method:e,connected:v},t)}))})]})]})};function yt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function wt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){wt(e,t,n[t])}))}return e}function Nt(e){return function(e){if(Array.isArray(e))return yt(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return yt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yt(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var kt={event:"",from:"",to:""},_t=function(){var e,t,n=(0,i.useRouter)().query.id,r=(0,h.Z)("txns").t,s=(0,x.useState)(!0),l=s[0],o=s[1],d=(0,x.useState)(kt),u=d[0],m=d[1],p=we(),f=p.qs,b=p.filters,g=p.setFilters,w=(0,oe.Z)(),v=w.sqs,N=w.sorting,_=w.setSorting,Z=w.resetSorting,S=(0,xe.Z)(),O=S.pqs,C=S.pagination,A=S.setPagination,E=S.resetPagination,T=(0,k.ZP)("account/".concat(n,"/nft-txns?").concat(f,"&").concat(v,"&").concat(O)),D=T.data,I=T.loading,M=(0,k.ZP)("account/".concat(n,"/nft-txns/count?").concat(f)),q=M.data,F=M.loading,H=(null===D||void 0===D?void 0:D.txns)||[],V=(null===q||void 0===q||null===(e=q.txns)||void 0===e||null===(t=e[0])||void 0===t?void 0:t.count)||0,U=function(e){var t=e.target.name,n=e.target.value;m((function(e){return vt({},e,wt({},t,n))}))},K=function(e){e.preventDefault(),Z(),E(),g((function(e){return vt({},e,u)}))},Y=function(e){var t=e.target.name;m((function(e){return vt({},e,wt({},t,""))})),g((function(e){return vt({},e,wt({},t,void 0))}))};return(0,a.jsxs)(a.Fragment,{children:[F?(0,a.jsx)(y.Z,{className:"leading-7",wrapperClassName:"pl-3 max-w-sm py-4 h-[60px]"}):(0,a.jsxs)("div",{className:"flex flex-col lg:flex-row pt-4",children:[(0,a.jsx)("div",{className:"flex flex-col",children:(0,a.jsxs)("p",{className:"leading-7 px-3 text-sm mb-4 text-gray-500",children:["A total of ",(0,j.bE)(V)," transactions found"]})}),(0,a.jsx)(be.Z,{filters:b,onClear:function(){var e,t=(e=Object).assign.apply(e,Nt(Object.keys(b).map((function(e){return wt({},e,void 0)}))));Z(),E(),m(kt),g((function(e){return vt({},e,t)}))}})]}),(0,a.jsx)("div",{className:"overflow-x-auto ",children:(0,a.jsxs)("table",{className:"min-w-full divide-y border-t",children:[(0,a.jsx)("thead",{className:"bg-gray-100",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{scope:"col"}),(0,a.jsx)("th",{scope:"col",className:"px-5 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:r("hash")}),(0,a.jsx)("th",{scope:"col",children:(0,a.jsxs)(P.v2,{children:[(0,a.jsxs)(P.j2,{className:"flex items-center px-6 py-4 text-left text-xs font-semibold text-nearblue-600 uppercase tracking-wider focus:outline-none",children:[r("type")," ",(0,a.jsx)(ve.Z,{className:"h-4 w-4 fill-current ml-2"})]}),(0,a.jsx)(P.qy,{className:"bg-white shadow-lg border rounded-b-lg p-2",children:(0,a.jsxs)("form",{onSubmit:K,className:"flex flex-col",children:[(0,a.jsx)("input",{name:"event",value:u.event,onChange:U,placeholder:"Search by method",className:"border rounded h-8 mb-2 px-2 text-gray-500 text-xs"}),(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsxs)("button",{type:"submit",className:"flex items-center justify-center flex-1 rounded bg-green-500 h-7 text-white text-xs mr-2",children:[(0,a.jsx)(ve.Z,{className:"h-3 w-3 fill-current mr-2"})," ",r("filter.filter")]}),(0,a.jsx)("button",{name:"event",type:"button",onClick:Y,className:"flex-1 rounded bg-gray-300 text-xs h-7",children:r("filter.clear")})]})]})})]})}),(0,a.jsx)("th",{scope:"col",children:(0,a.jsxs)(P.v2,{children:[(0,a.jsxs)(P.j2,{className:"flex items-center px-6 py-4 text-left text-xs font-semibold text-nearblue-600 uppercase tracking-wider focus:outline-none",children:[r("from")," ",(0,a.jsx)(ve.Z,{className:"h-4 w-4 fill-current ml-2"})]}),(0,a.jsx)(P.qy,{className:"bg-white shadow-lg border rounded-b-lg p-2",children:(0,a.jsxs)("form",{onSubmit:K,className:"flex flex-col",children:[(0,a.jsx)("input",{name:"from",value:u.from,onChange:U,placeholder:r("filter.placeholder"),className:"border rounded h-8 mb-2 px-2 text-gray-500 text-xs"}),(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsxs)("button",{type:"submit",className:"flex items-center justify-center flex-1 rounded bg-green-500 h-7 text-white text-xs mr-2",children:[(0,a.jsx)(ve.Z,{className:"h-3 w-3 fill-current mr-2"})," ",r("filter.filter")]}),(0,a.jsx)("button",{name:"from",type:"button",onClick:Y,className:"flex-1 rounded bg-gray-300 text-xs h-7",children:r("filter.clear")})]})]})})]})}),(0,a.jsx)("th",{scope:"col"}),(0,a.jsx)("th",{scope:"col",children:(0,a.jsxs)(P.v2,{children:[(0,a.jsxs)(P.j2,{className:"flex items-center px-6 py-4 text-left text-xs font-semibold text-nearblue-600 uppercase tracking-wider focus:outline-none",children:[r("to")," ",(0,a.jsx)(ve.Z,{className:"h-4 w-4 fill-current ml-2"})]}),(0,a.jsx)(P.qy,{className:"bg-white shadow-lg border rounded-b-lg p-2",children:(0,a.jsxs)("form",{onSubmit:K,className:"flex flex-col",children:[(0,a.jsx)("input",{name:"to",value:u.to,onChange:U,placeholder:r("filter.placeholder"),className:"border rounded h-8 mb-2 px-2 text-gray-500 text-xs"}),(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsxs)("button",{type:"submit",className:"flex items-center justify-center flex-1 rounded bg-green-500 h-7 text-white text-xs mr-2",children:[(0,a.jsx)(ve.Z,{className:"h-3 w-3 fill-current mr-2"})," ",r("filter.filter")]}),(0,a.jsx)("button",{name:"to",type:"button",onClick:Y,className:"flex-1 rounded bg-gray-300 text-xs h-7",children:r("filter.clear")})]})]})})]})}),(0,a.jsx)("th",{scope:"col",className:"px-5 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider whitespace-nowrap",children:"Token ID"}),(0,a.jsx)("th",{scope:"col",className:"px-5 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Token"}),(0,a.jsx)("th",{scope:"col",children:(0,a.jsxs)("div",{className:"w-full inline-flex px-5 py-4",children:[(0,a.jsx)("button",{type:"button",onClick:function(){return o((function(e){return!e}))},className:"text-left text-xs w-full font-semibold uppercase tracking-wider text-nearblue-600 focus:outline-none",children:r(l?"age":"ageDT")}),(0,a.jsx)("button",{type:"button",onClick:function(){E(),_((function(e){return vt({},e,{order:"asc"===e.order?"desc":"asc"})}))},className:"px-2",children:(0,a.jsx)("div",{className:"text-nearblue-600 font-semibold",children:(0,a.jsx)(ie.Z,{order:N.order})})})]})})]})}),(0,a.jsxs)("tbody",{className:"bg-white divide-y divide-gray-200",children:[I&&Nt(Array(25)).map((function(e,t){return(0,a.jsxs)("tr",{className:"hover:bg-blue-900/5 h-[57px]",children:[(0,a.jsx)("td",{className:"pl-5 pr-2 py-4 whitespace-nowrap text-sm text-gray-500 flex justify-end ",children:(0,a.jsx)(y.Z,{})}),(0,a.jsx)("td",{className:"px-5 py-4 whitespace-nowrap text-sm text-gray-500",children:(0,a.jsx)(y.Z,{})}),(0,a.jsx)("td",{className:"px-5 py-4 whitespace-nowrap text-sm text-gray-500",children:(0,a.jsx)(y.Z,{})}),(0,a.jsx)("td",{className:"px-5 py-4 whitespace-nowrap text-tiny ",children:(0,a.jsx)(y.Z,{})}),(0,a.jsx)("td",{className:"px-5 py-4 whitespace-nowrap text-sm text-gray-500",children:(0,a.jsx)(y.Z,{wrapperClassName:"w-16"})}),(0,a.jsx)("td",{className:"px-5 py-4 whitespace-nowrap text-sm text-gray-500",children:(0,a.jsx)(y.Z,{})}),(0,a.jsx)("td",{className:"px-5 py-4 whitespace-nowrap text-sm text-gray-500",children:(0,a.jsx)(y.Z,{})}),(0,a.jsx)("td",{className:"px-5 py-4 whitespace-nowrap text-sm text-gray-500",children:(0,a.jsx)(y.Z,{})}),(0,a.jsx)("td",{className:"px-5 py-4 whitespace-nowrap text-sm text-gray-500",children:(0,a.jsx)(y.Z,{})})]},t)})),!I&&0===H.length&&(0,a.jsx)("tr",{className:"h-[57px]",children:(0,a.jsx)("td",{colSpan:"100%",className:"px-6 py-4 text-gray-400 text-xs",children:r("noTxns")})}),H.map((function(e){var t,s,o,i,d,x,u;return(0,a.jsxs)("tr",{className:"h-[57px] hover:bg-blue-900/5",children:[(0,a.jsx)("td",{className:"pl-5 pr-2 py-4 whitespace-nowrap text-sm text-gray-500 flex justify-end ",children:(0,a.jsx)(_e.Z,{status:e.outcomes.status})}),(0,a.jsx)("td",{className:"px-5 py-4 whitespace-nowrap text-sm text-gray-500",children:(0,a.jsx)(R.ZP,{label:e.transaction_hash,className:"absolute h-auto max-w-xs bg-black bg-opacity-90 z-10 text-white text-xs p-2 break-words",children:(0,a.jsx)("span",{className:"truncate max-w-[120px] inline-block align-bottom text-green-500",children:(0,a.jsx)(c(),{href:"/txns/".concat(e.transaction_hash),children:(0,a.jsx)("a",{className:"text-green-500 font-medium",children:e.transaction_hash})})})})}),(0,a.jsx)("td",{className:"px-5 py-4 whitespace-nowrap text-sm text-gray-500",children:(0,a.jsx)(R.ZP,{label:e.event_kind,className:"absolute h-auto max-w-xs bg-black bg-opacity-90 z-10 text-white text-xs p-2 break-words",children:(0,a.jsx)("span",{className:"bg-blue-900/10 text-xs text-gray-500 rounded-xl px-2 py-1 max-w-[120px] inline-flex truncate",children:(0,a.jsx)("span",{className:"block truncate",children:e.event_kind})})})}),(0,a.jsx)("td",{className:"px-5 py-4 whitespace-nowrap text-sm text-gray-500 font-medium",children:e.token_old_owner_account_id?(0,a.jsx)(R.ZP,{label:e.token_old_owner_account_id,className:"absolute h-auto max-w-xs bg-black bg-opacity-90 z-10 text-white text-xs p-2 break-words",children:(0,a.jsx)("span",{className:"truncate max-w-[120px] inline-block align-bottom text-green-500",children:(0,a.jsx)(c(),{href:"/address/".concat(e.token_old_owner_account_id),children:(0,a.jsx)("a",{className:"text-green-500",children:e.token_old_owner_account_id})})})}):"system"}),(0,a.jsx)("td",{className:"text-center",children:e.token_old_owner_account_id===e.token_new_owner_account_id?(0,a.jsx)("span",{className:"uppercase rounded w-10 py-2 h-6 flex items-center justify-center bg-green-200 text-white text-xs font-semibold",children:r("txnSelf")}):n===e.token_old_owner_account_id?(0,a.jsx)("span",{className:"uppercase rounded w-10 h-6 flex items-center justify-center bg-yellow-100 text-yellow-700 text-xs font-semibold",children:r("txnOut")}):(0,a.jsx)("span",{className:"uppercase rounded w-10 h-6 flex items-center justify-center bg-neargreen text-white text-xs font-semibold",children:r("txnIn")})}),(0,a.jsx)("td",{className:"px-5 py-4 whitespace-nowrap text-sm text-gray-500 font-medium",children:e.token_new_owner_account_id?(0,a.jsx)(R.ZP,{label:e.token_new_owner_account_id,className:"absolute h-auto max-w-xs bg-black bg-opacity-90 z-10 text-white text-xs p-2 break-words",children:(0,a.jsx)("span",{className:"truncate max-w-[120px] inline-block align-bottom text-green-500",children:(0,a.jsx)(c(),{href:"/address/".concat(e.token_new_owner_account_id),children:(0,a.jsx)("a",{className:"text-green-500",children:e.token_new_owner_account_id})})})}):"system"}),(0,a.jsx)("td",{className:"px-5 py-4 whitespace-nowrap text-sm text-gray-500 max-w-[110px] inline-block truncate",children:(0,a.jsx)(R.ZP,{label:e.token_id,className:"absolute h-auto max-w-xs bg-black bg-opacity-90 z-10 text-white text-xs p-2 break-words",children:(0,a.jsx)("span",{children:(0,a.jsx)(c(),{href:"/nft-token/".concat(null===(t=e.nft)||void 0===t?void 0:t.contract,"/").concat(e.token_id),children:(0,a.jsx)("a",{className:"text-green-500 font-medium",children:e.token_id})})})})}),(0,a.jsx)("td",{className:"px-5 py-4 whitespace-nowrap text-sm text-gray-500",children:e.nft&&(0,a.jsxs)("div",{className:"flex flex-row items-center",children:[(0,a.jsx)("span",{className:"inline-flex mr-1",children:(0,a.jsx)(z.Z,{src:null===(s=e.nft)||void 0===s?void 0:s.icon,alt:null===(o=e.nft)||void 0===o?void 0:o.name,className:"w-4 h-4"})}),(0,a.jsx)(R.ZP,{label:null===(i=e.nft)||void 0===i?void 0:i.name,className:"absolute h-auto max-w-xs bg-black bg-opacity-90 z-10 text-white text-xs p-2 break-words",children:(0,a.jsx)("div",{className:"text-sm text-gray-500 max-w-[110px] inline-block truncate",children:(0,a.jsx)(c(),{href:"/nft-token/".concat(null===(d=e.nft)||void 0===d?void 0:d.contract),children:(0,a.jsx)("a",{className:"text-green-500 font-medium",children:null===(x=e.nft)||void 0===x?void 0:x.name})})})}),(null===(u=e.nft)||void 0===u?void 0:u.symbol)&&(0,a.jsx)(R.ZP,{label:e.nft.name,className:"absolute h-auto max-w-xs bg-black bg-opacity-90 z-10 text-white text-xs p-2 break-words",children:(0,a.jsxs)("div",{className:"text-sm text-gray-400 max-w-[60px] inline-block truncate",children:["\xa0 ",e.nft.symbol]})})]})}),(0,a.jsx)("td",{className:"px-5 py-4 whitespace-nowrap text-sm text-gray-500",children:(0,a.jsx)(Ne.Z,{timestamp:e.block_timestamp,showAge:l})})]},e.key)}))]})]})}),(0,a.jsx)(de.Z,{count:V,loading:F,page:C.page,setPage:function(e){return"function"===typeof e?A((function(t){return vt({},t,{page:e(t.page)})})):A("page",e)},limit:C.per_page})]})};function Zt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function St(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ot(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){St(e,t,n[t])}))}return e}function Ct(e){return function(e){if(Array.isArray(e))return Zt(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return Zt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Zt(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Pt={event:"",from:"",to:""},At=function(){var e,t,n=(0,i.useRouter)().query.id,r=(0,h.Z)("txns").t,s=(0,x.useState)(!0),l=s[0],o=s[1],d=(0,x.useState)(Pt),u=d[0],m=d[1],p=we(),f=p.qs,b=p.filters,g=p.setFilters,w=(0,oe.Z)(),v=w.sqs,N=w.sorting,_=w.setSorting,Z=w.resetSorting,O=(0,xe.Z)(),C=O.pqs,A=O.pagination,E=O.setPagination,T=O.resetPagination,D=(0,k.ZP)("account/".concat(n,"/ft-txns?").concat(f,"&").concat(v,"&").concat(C)),I=D.data,M=D.loading,q=(0,k.ZP)("account/".concat(n,"/ft-txns/count?").concat(f)),F=q.data,H=q.loading,V=(null===I||void 0===I?void 0:I.txns)||[],U=(0,x.useMemo)((function(){return(0,S.uniqWith)(V,(function(e,t){return e.emitted_at_block_timestamp===t.emitted_at_block_timestamp&&e.token_new_owner_account_id===t.token_new_owner_account_id&&e.token_old_owner_account_id===t.token_old_owner_account_id&&e.amount===t.amount}))}),[V]),K=(null===F||void 0===F||null===(e=F.txns)||void 0===e||null===(t=e[0])||void 0===t?void 0:t.count)||0,Y=function(e){var t=e.target.name,n=e.target.value;m((function(e){return Ot({},e,St({},t,n))}))},L=function(e){e.preventDefault(),Z(),T(),g((function(e){return Ot({},e,u)}))},B=function(e){var t=e.target.name;m((function(e){return Ot({},e,St({},t,""))})),g((function(e){return Ot({},e,St({},t,void 0))}))};return(0,a.jsxs)(a.Fragment,{children:[H?(0,a.jsx)(y.Z,{className:"leading-7",wrapperClassName:"pl-3 max-w-sm py-4 h-[60px]"}):(0,a.jsxs)("div",{className:"flex flex-col lg:flex-row pt-4",children:[(0,a.jsx)("div",{className:"flex flex-col",children:(0,a.jsxs)("p",{className:"leading-7 px-3 text-sm mb-4 text-gray-500",children:["A total of ",(0,j.bE)(K)," transactions found"]})}),(0,a.jsx)(be.Z,{filters:b,onClear:function(){var e,t=(e=Object).assign.apply(e,Ct(Object.keys(b).map((function(e){return St({},e,void 0)}))));Z(),T(),m(Pt),g((function(e){return Ot({},e,t)}))}})]}),(0,a.jsx)("div",{className:"overflow-x-auto ",children:(0,a.jsxs)("table",{className:"min-w-full divide-y border-t",children:[(0,a.jsx)("thead",{className:"bg-gray-100",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{scope:"col"}),(0,a.jsx)("th",{scope:"col",className:"px-5 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:r("hash")}),(0,a.jsx)("th",{scope:"col",children:(0,a.jsxs)(P.v2,{children:[(0,a.jsxs)(P.j2,{className:"flex items-center px-6 py-4 text-left text-xs font-semibold text-nearblue-600 uppercase tracking-wider focus:outline-none",children:[r("type")," ",(0,a.jsx)(ve.Z,{className:"h-4 w-4 fill-current ml-2"})]}),(0,a.jsx)(P.qy,{className:"bg-white shadow-lg border rounded-b-lg p-2",children:(0,a.jsxs)("form",{onSubmit:L,className:"flex flex-col",children:[(0,a.jsx)("input",{name:"event",value:u.event,onChange:Y,placeholder:"Search by method",className:"border rounded h-8 mb-2 px-2 text-gray-500 text-xs"}),(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsxs)("button",{type:"submit",className:"flex items-center justify-center flex-1 rounded bg-green-500 h-7 text-white text-xs mr-2",children:[(0,a.jsx)(ve.Z,{className:"h-3 w-3 fill-current mr-2"})," ",r("filter.filter")]}),(0,a.jsx)("button",{name:"event",type:"button",onClick:B,className:"flex-1 rounded bg-gray-300 text-xs h-7",children:r("filter.clear")})]})]})})]})}),(0,a.jsx)("th",{scope:"col",children:(0,a.jsxs)(P.v2,{children:[(0,a.jsxs)(P.j2,{className:"flex items-center px-6 py-4 text-left text-xs font-semibold text-nearblue-600 uppercase tracking-wider focus:outline-none",children:[r("from")," ",(0,a.jsx)(ve.Z,{className:"h-4 w-4 fill-current ml-2"})]}),(0,a.jsx)(P.qy,{className:"bg-white shadow-lg border rounded-b-lg p-2",children:(0,a.jsxs)("form",{onSubmit:L,className:"flex flex-col",children:[(0,a.jsx)("input",{name:"from",value:u.from,onChange:Y,placeholder:r("filter.placeholder"),className:"border rounded h-8 mb-2 px-2 text-gray-500 text-xs"}),(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsxs)("button",{type:"submit",className:"flex items-center justify-center flex-1 rounded bg-green-500 h-7 text-white text-xs mr-2",children:[(0,a.jsx)(ve.Z,{className:"h-3 w-3 fill-current mr-2"})," ",r("filter.filter")]}),(0,a.jsx)("button",{name:"from",type:"button",onClick:B,className:"flex-1 rounded bg-gray-300 text-xs h-7",children:r("filter.clear")})]})]})})]})}),(0,a.jsx)("th",{scope:"col"}),(0,a.jsx)("th",{scope:"col",children:(0,a.jsxs)(P.v2,{children:[(0,a.jsxs)(P.j2,{className:"flex items-center px-6 py-4 text-left text-xs font-semibold text-nearblue-600 uppercase tracking-wider focus:outline-none",children:[r("to")," ",(0,a.jsx)(ve.Z,{className:"h-4 w-4 fill-current ml-2"})]}),(0,a.jsx)(P.qy,{className:"bg-white shadow-lg border rounded-b-lg p-2",children:(0,a.jsxs)("form",{onSubmit:L,className:"flex flex-col",children:[(0,a.jsx)("input",{name:"to",value:u.to,onChange:Y,placeholder:r("filter.placeholder"),className:"border rounded h-8 mb-2 px-2 text-gray-500 text-xs"}),(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsxs)("button",{type:"submit",className:"flex items-center justify-center flex-1 rounded bg-green-500 h-7 text-white text-xs mr-2",children:[(0,a.jsx)(ve.Z,{className:"h-3 w-3 fill-current mr-2"})," ",r("filter.filter")]}),(0,a.jsx)("button",{name:"to",type:"button",onClick:B,className:"flex-1 rounded bg-gray-300 text-xs h-7",children:r("filter.clear")})]})]})})]})}),(0,a.jsx)("th",{scope:"col",className:"px-5 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider whitespace-nowrap",children:"Quantity"}),(0,a.jsx)("th",{scope:"col",className:"px-5 py-4 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Token"}),(0,a.jsx)("th",{scope:"col",children:(0,a.jsxs)("div",{className:"w-full inline-flex px-5 py-4",children:[(0,a.jsx)("button",{type:"button",onClick:function(){return o((function(e){return!e}))},className:"text-left text-xs w-full font-semibold uppercase tracking-wider text-nearblue-600 focus:outline-none",children:r(l?"age":"ageDT")}),(0,a.jsx)("button",{type:"button",onClick:function(){T(),_((function(e){return Ot({},e,{order:"asc"===e.order?"desc":"asc"})}))},className:"px-2",children:(0,a.jsx)("div",{className:"text-nearblue-600 font-semibold",children:(0,a.jsx)(ie.Z,{order:N.order})})})]})})]})}),(0,a.jsxs)("tbody",{className:"bg-white divide-y divide-gray-200",children:[M&&Ct(Array(25)).map((function(e,t){return(0,a.jsxs)("tr",{className:"hover:bg-blue-900/5 h-[57px]",children:[(0,a.jsx)("td",{className:"pl-5 pr-2 py-4 whitespace-nowrap text-sm text-gray-500 flex justify-end ",children:(0,a.jsx)(y.Z,{})}),(0,a.jsx)("td",{className:"px-5 py-4 whitespace-nowrap text-sm text-gray-500",children:(0,a.jsx)(y.Z,{})}),(0,a.jsx)("td",{className:"px-5 py-4 whitespace-nowrap text-sm text-gray-500",children:(0,a.jsx)(y.Z,{})}),(0,a.jsx)("td",{className:"px-5 py-4 whitespace-nowrap text-tiny ",children:(0,a.jsx)(y.Z,{})}),(0,a.jsx)("td",{className:"px-5 py-4 whitespace-nowrap text-sm text-gray-500",children:(0,a.jsx)(y.Z,{wrapperClassName:"w-16"})}),(0,a.jsx)("td",{className:"px-5 py-4 whitespace-nowrap text-sm text-gray-500",children:(0,a.jsx)(y.Z,{})}),(0,a.jsx)("td",{className:"px-5 py-4 whitespace-nowrap text-sm text-gray-500",children:(0,a.jsx)(y.Z,{})}),(0,a.jsx)("td",{className:"px-5 py-4 whitespace-nowrap text-sm text-gray-500",children:(0,a.jsx)(y.Z,{})}),(0,a.jsx)("td",{className:"px-5 py-4 whitespace-nowrap text-sm text-gray-500",children:(0,a.jsx)(y.Z,{})})]},t)})),!M&&0===U.length&&(0,a.jsx)("tr",{className:"h-[57px]",children:(0,a.jsx)("td",{colSpan:"100%",className:"px-6 py-4 text-gray-400 text-xs",children:r("noTxns")})}),U.map((function(e){var t,s,o,i,d,x,u;return(0,a.jsxs)("tr",{className:"h-[57px] hover:bg-blue-900/5",children:[(0,a.jsx)("td",{className:"pl-5 pr-2 py-4 whitespace-nowrap text-sm text-gray-500 flex justify-end ",children:(0,a.jsx)(_e.Z,{status:e.outcomes.status})}),(0,a.jsx)("td",{className:"px-5 py-4 whitespace-nowrap text-sm text-gray-500",children:(0,a.jsx)(R.ZP,{label:e.transaction_hash,className:"absolute h-auto max-w-xs bg-black bg-opacity-90 z-10 text-white text-xs p-2 break-words",children:(0,a.jsx)("span",{className:"truncate max-w-[120px] inline-block align-bottom text-green-500",children:(0,a.jsx)(c(),{href:"/txns/".concat(e.transaction_hash),children:(0,a.jsx)("a",{className:"text-green-500 font-medium",children:e.transaction_hash})})})})}),(0,a.jsx)("td",{className:"px-5 py-4 whitespace-nowrap text-sm text-gray-500",children:(0,a.jsx)(R.ZP,{label:e.event_kind,className:"absolute h-auto max-w-xs bg-black bg-opacity-90 z-10 text-white text-xs p-2 break-words",children:(0,a.jsx)("span",{className:"bg-blue-900/10 text-xs text-gray-500 rounded-xl px-2 py-1 max-w-[120px] inline-flex truncate",children:(0,a.jsx)("span",{className:"block truncate",children:e.event_kind})})})}),(0,a.jsx)("td",{className:"px-5 py-4 whitespace-nowrap text-sm text-gray-500 font-medium",children:e.token_old_owner_account_id?(0,a.jsx)(R.ZP,{label:e.token_old_owner_account_id,className:"absolute h-auto max-w-xs bg-black bg-opacity-90 z-10 text-white text-xs p-2 break-words",children:(0,a.jsx)("span",{className:"truncate max-w-[120px] inline-block align-bottom text-green-500",children:(0,a.jsx)(c(),{href:"/address/".concat(e.token_old_owner_account_id),children:(0,a.jsx)("a",{className:"text-green-500",children:e.token_old_owner_account_id})})})}):"system"}),(0,a.jsx)("td",{children:e.token_old_owner_account_id===e.token_new_owner_account_id?(0,a.jsx)("span",{className:"uppercase rounded w-10 py-2 h-6 flex items-center justify-center bg-green-200 text-white text-xs font-semibold",children:r("txnSelf")}):n===e.token_old_owner_account_id?(0,a.jsx)("span",{className:"uppercase rounded w-10 h-6 flex items-center justify-center bg-yellow-100 text-yellow-700 text-xs font-semibold",children:r("txnOut")}):(0,a.jsx)("span",{className:"uppercase rounded w-10 h-6 flex items-center justify-center bg-neargreen text-white text-xs font-semibold",children:r("txnIn")})}),(0,a.jsx)("td",{className:"px-5 py-4 whitespace-nowrap text-sm text-gray-500 font-medium",children:e.token_new_owner_account_id?(0,a.jsx)(R.ZP,{label:e.token_new_owner_account_id,className:"absolute h-auto max-w-xs bg-black bg-opacity-90 z-10 text-white text-xs p-2 break-words",children:(0,a.jsx)("span",{className:"truncate max-w-[120px] inline-block align-bottom text-green-500",children:(0,a.jsx)(c(),{href:"/address/".concat(e.token_new_owner_account_id),children:(0,a.jsx)("a",{className:"text-green-500",children:e.token_new_owner_account_id})})})}):"system"}),(0,a.jsx)("td",{className:"px-5 py-4 whitespace-nowrap text-sm text-gray-500",children:(0,j.QU)(e.amount,null===(t=e.ft)||void 0===t?void 0:t.decimals)}),(0,a.jsx)("td",{className:"px-5 py-4 whitespace-nowrap text-sm text-gray-500",children:e.ft&&(0,a.jsxs)("div",{className:"flex flex-row items-center",children:[(0,a.jsx)("span",{className:"inline-flex mr-1",children:(0,a.jsx)(z.Z,{src:null===(s=e.ft)||void 0===s?void 0:s.icon,alt:null===(o=e.ft)||void 0===o?void 0:o.name,className:"w-4 h-4"})}),(0,a.jsx)(R.ZP,{label:null===(i=e.ft)||void 0===i?void 0:i.name,className:"absolute h-auto max-w-xs bg-black bg-opacity-90 z-10 text-white text-xs p-2 break-words",children:(0,a.jsx)("div",{className:"text-sm text-gray-500 max-w-[110px] inline-block truncate",children:(0,a.jsx)(c(),{href:"/token/".concat(null===(d=e.ft)||void 0===d?void 0:d.contract),children:(0,a.jsx)("a",{className:"text-green-500 font-medium",children:null===(x=e.ft)||void 0===x?void 0:x.name})})})}),(null===(u=e.ft)||void 0===u?void 0:u.symbol)&&(0,a.jsx)(R.ZP,{label:e.ft.symbol,className:"absolute h-auto max-w-xs bg-black bg-opacity-90 z-10 text-white text-xs p-2 break-words",children:(0,a.jsxs)("div",{className:"text-sm text-gray-400 max-w-[80px] inline-block truncate",children:["\xa0 ",e.ft.symbol]})})]})}),(0,a.jsx)("td",{className:"px-5 py-4 whitespace-nowrap text-sm text-gray-500",children:(0,a.jsx)(Ne.Z,{timestamp:e.block_timestamp,showAge:l})})]},e.key)}))]})]})}),(0,a.jsx)(de.Z,{count:K,loading:H,page:A.page,setPage:function(e){return"function"===typeof e?E((function(t){return Ot({},t,{page:e(t.page)})})):E("page",e)},limit:A.per_page})]})};function zt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Et(e,t,n,r,s,a,l){try{var c=e[a](l),o=c.value}catch(i){return void n(i)}c.done?t(o):Promise.resolve(o).then(r,s)}function Tt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Tt(e,t,n[t])}))}return e}function It(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,a=[],l=!0,c=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);l=!0);}catch(o){c=!0,s=o}finally{try{l||null==n.return||n.return()}finally{if(c)throw s}}return a}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return zt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Mt="https://meta.nearblocks.io/api",qt="mainnet",Ft=[" ","tokentxns","nfttokentxns","accesskeys","contract","comments"],Ht=function(){var e=(0,i.useRouter)().query.id,t=(0,h.Z)("address").t,n=It((0,b.Z)(),2),r=n[0],l=n[1],w=(0,x.useState)(),v=w[0],N=w[1],k=(0,x.useState)(0),_=k[0],Z=k[1],S=(0,x.useState)(null),O=S[0],C=S[1],P=(0,x.useState)(),z=P[0],E=P[1];(0,x.useEffect)((function(){var t=function(){var t,n=(t=s().mark((function t(){var n,r,a,l;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return");case 2:return t.t0=It,t.next=5,Promise.all([(0,A.Ow)(e),(0,A.qZ)(e)]);case 5:if(t.t1=t.sent,n=(0,t.t0)(t.t1,2),r=n[0],a=n[1],!(null===r||void 0===r?void 0:r.code_base64)){t.next=18;break}return l=(a.keys||[]).every((function(e){return"FullAccess"!==e.access_key.permission})),C(Dt({},r,{locked:l})),E((0,m.parseContract)(null===r||void 0===r?void 0:r.code_base64)),t.t2=N,t.next=16,(0,A.v)(null===r||void 0===r?void 0:r.code_base64);case 16:t.t3=t.sent,(0,t.t2)(t.t3);case 18:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,s){var a=t.apply(e,n);function l(e){Et(a,r,s,l,c,"next",e)}function c(e){Et(a,r,s,l,c,"throw",e)}l(void 0)}))});return function(){return n.apply(this,arguments)}}();t().catch((function(){}))}),[e]),(0,x.useEffect)((function(){var e=Ft.indexOf(r);Z(-1===e?0:e)}),[r]);var T={url:"".concat(j.or,"/address/").concat(e),identifier:e};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(o.default,{children:[(0,a.jsx)("title",{children:"".concat("","\n             ").concat(t("metaTitle",{address:e}))}),(0,a.jsx)("meta",{name:"title",content:t("metaTitle",{address:e})}),(0,a.jsx)("meta",{name:"description",content:t("metaDescription",{address:e})}),(0,a.jsx)("meta",{property:"og:title",content:t("metaTitle",{address:e})}),(0,a.jsx)("meta",{property:"og:description",content:t("metaDescription",{address:e})}),(0,a.jsx)("meta",{property:"twitter:title",content:t("metaTitle",{address:e})}),(0,a.jsx)("meta",{property:"twitter:description",content:t("metaDescription",{address:e})}),(0,a.jsx)("meta",{property:"og:image",content:"".concat(Mt,"/thumbnail/account?address=").concat(e,"&network=").concat(qt)}),(0,a.jsx)("meta",{property:"og:image:secure_url",content:"".concat(Mt,"/thumbnail/account?address=").concat(e,"&network=").concat(qt)}),(0,a.jsx)("meta",{name:"twitter:image:src",content:"".concat(Mt,"/thumbnail/account?address=").concat(e,"&network=").concat(qt)})]}),(0,a.jsxs)("div",{className:"container mx-auto px-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between flex-wrap pt-4",children:[e?(0,a.jsxs)("h1",{className:"break-all space-x-2 text-xl text-gray-700 leading-8 px-2",children:["Near"," ",(0,a.jsx)(f.Z,{namespaces:["address"],children:(0,a.jsx)(d.Z,{i18nKey:"address:heading",components:[(0,a.jsx)("span",{className:"font-semibold text-green-500 "},1)],values:{address:e}})}),(0,a.jsx)(X,{address:e})]}):(0,a.jsx)(y.Z,{className:"h-7",wrapperClassName:"flex w-full px-2 py-4"}),(0,a.jsx)(g.Z,{})]}),(0,a.jsx)("div",{className:"text-gray-500 px-2 pb-5 pt-1 border-t",children:(0,a.jsx)(te.Z,{})}),(0,a.jsxs)("section",{children:[(0,a.jsx)(U,{contract:O}),(0,a.jsx)("div",{className:"py-6",children:(0,a.jsx)(J.Z,{})}),(0,a.jsx)("div",{className:"block lg:flex lg:space-x-2 mb-10",children:(0,a.jsx)("div",{className:"w-full ",children:(0,a.jsx)("div",{className:"bg-white soft-shadow rounded-lg pb-1",children:(0,a.jsxs)(p.mQ,{onSelect:function(e){return function(e){return l(Ft[e])}(e)},selectedIndex:_,children:[(0,a.jsxs)(p.td,{className:"flex flex-wrap border-b",children:[(0,a.jsx)(p.OK,{className:" text-gray-600 text-sm font-semibold border-green-500  overflow-hidden inline-block cursor-pointer p-3 focus:outline-none hover:text-green-500",selectedClassName:"border-b-4 border-green-500 text-green-500",children:(0,a.jsx)("h2",{children:t("txns")})}),(0,a.jsx)(p.OK,{className:"text-gray-600 text-sm font-semibold border-green-500 overflow-hidden inline-block cursor-pointer p-3 focus:outline-none hover:text-green-500",selectedClassName:"border-b-4 border-green-500 text-green-500",children:(0,a.jsx)("h2",{children:t("tokenTxns")})}),(0,a.jsx)(p.OK,{className:"text-gray-600 text-sm font-semibold border-green-500 overflow-hidden inline-block cursor-pointer p-3 focus:outline-none hover:text-green-500",selectedClassName:"border-b-4 border-green-500 text-green-500",children:(0,a.jsx)("h2",{children:"NFT Token Txns"})}),(0,a.jsx)(p.OK,{className:"text-gray-600 text-sm font-semibold border-green-500 overflow-hidden inline-block cursor-pointer focus:outline-none p-3 hover:text-green-500",selectedClassName:"border-b-4 border-green-500 text-green-500",children:(0,a.jsx)("h2",{children:"Access Keys"})}),z&&(0,a.jsx)(p.OK,{className:"text-gray-600 text-sm font-semibold border-green-500 overflow-hidden inline-block cursor-pointer focus:outline-none p-3 hover:text-green-500",selectedClassName:"border-b-4 border-green-500 text-green-500",children:(0,a.jsxs)("div",{className:"relative flex h-full",children:[(0,a.jsx)("h2",{children:"Contract"}),(0,a.jsx)("span",{className:"text-white bg-neargreen text-[8px] h-4 inline-flex items-center rounded-md ml-1 -mt-2 px-1 animate-pulse",children:"NEW"})]})}),(0,a.jsx)(p.OK,{className:"text-gray-600 text-sm font-semibold border-green-500 overflow-hidden inline-block cursor-pointer focus:outline-none p-3 hover:text-green-500",selectedClassName:"border-b-4 border-green-500 text-green-500",children:(0,a.jsx)("h2",{children:t("comments")})})]}),(0,a.jsxs)(p.x4,{children:[(0,a.jsx)("div",{className:" px-2 sm:py-0 py-3 flex items-center justify-end md:px-4",children:(0,a.jsx)("span",{className:"text-xs sm:-mt-12 text-gray-700",children:(0,a.jsx)(c(),{href:{pathname:"/exportdata",query:{address:e}},children:(0,a.jsxs)("a",{target:"_blank",className:"cursor-pointer mx-1 flex items-center text-white font-thin py-2 px-4 rounded-md bg-green-500 hover:bg-green-400 border border-green-900/10",children:[(0,a.jsx)("p",{children:"CSV Export "}),(0,a.jsx)("span",{className:"ml-2",children:(0,a.jsx)(ee,{})})]})})})}),(0,a.jsx)(Ae,{})]}),(0,a.jsxs)(p.x4,{children:[(0,a.jsx)("div",{className:" px-2 sm:py-0 py-3 flex items-center justify-end md:px-4",children:(0,a.jsx)("span",{className:"text-xs sm:-mt-12 text-gray-700",children:(0,a.jsx)(c(),{href:{pathname:"/token/exportdata",query:{address:e}},children:(0,a.jsxs)("a",{target:"_blank",className:"cursor-pointer mx-1 flex items-center text-white font-thin py-2 border border-green-900/10 px-4 rounded-md bg-green-500 hover:bg-green-400",children:[(0,a.jsx)("p",{children:"CSV Export "}),(0,a.jsx)("span",{className:"ml-2",children:(0,a.jsx)(ee,{})})]})})})}),(0,a.jsx)(At,{})]}),(0,a.jsxs)(p.x4,{children:[(0,a.jsx)("div",{className:" px-2 sm:py-0 py-3 flex items-center justify-end md:px-4",children:(0,a.jsx)("span",{className:"text-xs sm:-mt-12 text-gray-700",children:(0,a.jsx)(c(),{href:{pathname:"/nft-token/exportdata",query:{address:e}},children:(0,a.jsxs)("a",{target:"_blank",className:"cursor-pointer mx-1 flex items-center text-white font-thin py-2 border border-green-900/10 px-4 rounded-md bg-green-500 hover:bg-green-400",children:[(0,a.jsx)("p",{children:"CSV Export "}),(0,a.jsx)("span",{className:"ml-2",children:(0,a.jsx)(ee,{})})]})})})}),(0,a.jsx)(_t,{})]}),(0,a.jsx)(p.x4,{children:(0,a.jsx)(fe,{})}),z&&(0,a.jsx)(p.x4,{children:(0,a.jsx)(gt,{id:e,schema:v,contract:O,contractInfo:z})}),(0,a.jsx)(p.x4,{children:(0,a.jsx)("div",{className:"px-4 sm:px-6 py-3",children:(0,a.jsx)(u.qw,{shortname:"nearblocks",config:T})})})]})})})})]})]})]})};Ht.Layout=w.Z;var Vt=!0,Ut=Ht}},function(e){e.O(0,[5445,3662,6428,9667,7111,2234,2836,1889,6509,3542,6386,2007,1763,2953,5411,7158,5474,9289,9078,9125,6993,1455,9767,9774,2888,179],(function(){return t=17281,e(e.s=t);var t}));var t=e.O();_N_E=t}]);